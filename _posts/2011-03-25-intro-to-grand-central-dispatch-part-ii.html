---
layout: post
title: 'Intro to Grand Central Dispatch, Part II: Multi-Core Performance 요약'
date: '2011-03-25T18:00:00.000+09:00'
author: jeremyko
tags:
- ios
- GCD
- iphone
modified_time: '2015-09-20T12:30:39.861+09:00'
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-6857856929557406539
blogger_orig_url: https://jeremyko.blogspot.com/2011/03/intro-to-grand-central-dispatch-part-ii.html
---

<br /><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">원문 :&nbsp;<a href="http://www.mikeash.com/pyblog/friday-qa-2009-09-04-intro-to-grand-central-dispatch-part-ii-multi-core-performance.html" style="color: #909090; text-decoration: none;" target="_blank">http://www.mikeash.com</a></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">Grand Central Dispatch, Part II: Multi-Core Performance 요약</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span class="Apple-tab-span" style="white-space: pre;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"> </span></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">dispatch 큐는 worker 쓰레드풀을 추상화 한다</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">GCD를 통해서 멀티코어 퍼포먼스를 뽑아낼수있는 2가지 방법</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">1.하나의 태스크를 병행처리</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">2.연관된 여러 작업들을 하나의 글로벌큐에, 관련없거나</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">느슨하게 관련된 작업들은 여러개의 커스텀 큐를&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">이용해 병행처리.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span><br /><div class="pastie"><div class="allcode" style="border-bottom-color: rgb(221, 221, 221); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(221, 221, 221); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(221, 221, 221); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(221, 221, 221); border-top-style: solid; border-top-width: 1px; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; padding-top: 5px;"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source-numbers" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #999999; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-right: 12px;">1<br />2<br /></pre></td><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><pre class="sunburst" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><span class="keyword keyword_control keyword_control_c" style="color: #008800; font-weight: bold;">for</span>(<span class="storage storage_type storage_type_objc" style="color: #008800; font-weight: bold;">id</span> obj in array)<br /> <span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingIntensiveWith:</span>obj</span>]</span>;<br /></pre></pre></td></tr></tbody></table></div><div class="credit" style="background-attachment: initial; background-clip: initial; background-color: #eeeeee; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: initial; border-top-style: initial; border-top-width: 0px; color: #666666; font-family: 'Lucida Grande', Arial, Helvetica, sans-serif; font-size: 0.7em; padding-bottom: 7px; padding-left: 15px; padding-right: 15px; padding-top: 7px;"><div class="buttons" style="float: right; margin-top: -3px;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/pastes/2500401.txt" style="color: #336699; text-decoration: none;"><img src="http://pastie.org/images/view.png" height="20" style="border-bottom-width: 0px; border-left-width: 0px; border-right-width: 0px; border-top-width: 0px;" width="67" /></a></span></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/2500401" style="color: #336699; text-decoration: none;">Pastie #2500401</a>&nbsp;linked directly from&nbsp;<a href="http://pastie.org/" style="color: #336699; text-decoration: none;">Pastie</a>.</span></div></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">doSomethingIntensiveWith 가 병행처리 가능한 상황이면&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">GCD를 이용해서</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">다음처럼 변경 할수있다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span><br /><div class="pastie"><div class="allcode" style="border-bottom-color: rgb(221, 221, 221); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(221, 221, 221); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(221, 221, 221); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(221, 221, 221); border-top-style: solid; border-top-width: 1px; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; padding-top: 5px;"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source-numbers" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #999999; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-right: 12px;">1<br />2<br />3<br />4<br />5<br />6<br /></pre></td><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><pre class="sunburst" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;">dispatch_queue_t queue<br /> =  dispatch_get_global_queue<br />  (DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="constant constant_numeric constant_numeric_c" style="color: #0000dd; font-weight: bold;">0</span>);<br /><br /><span class="keyword keyword_control keyword_control_c" style="color: #008800; font-weight: bold;">for</span>(<span class="storage storage_type storage_type_objc" style="color: #008800; font-weight: bold;">id</span> obj in array)<br />    dispatch_async(queue, ^{<span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingIntensiveWith:</span>obj</span>]</span>; });<br /></pre></pre></td></tr></tbody></table></div><div class="credit" style="background-attachment: initial; background-clip: initial; background-color: #eeeeee; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: initial; border-top-style: initial; border-top-width: 0px; color: #666666; font-family: 'Lucida Grande', Arial, Helvetica, sans-serif; font-size: 0.7em; padding-bottom: 7px; padding-left: 15px; padding-right: 15px; padding-top: 7px;"><div class="buttons" style="float: right; margin-top: -3px;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/pastes/2500404.txt" style="color: #336699; text-decoration: none;"><img src="http://pastie.org/images/view.png" height="20" style="border-bottom-width: 0px; border-left-width: 0px; border-right-width: 0px; border-top-width: 0px;" width="67" /></a></span></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/2500404" style="color: #336699; text-decoration: none;">Pastie #2500404</a>&nbsp;linked directly from&nbsp;<a href="http://pastie.org/" style="color: #336699; text-decoration: none;">Pastie</a>.</span></div></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">그런데 만약 하나의 처리결과를 다른것이 참조하는</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">다음과 같은 상황이면</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span><br /><div class="pastie"><div class="allcode" style="border-bottom-color: rgb(221, 221, 221); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(221, 221, 221); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(221, 221, 221); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(221, 221, 221); border-top-style: solid; border-top-width: 1px; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; padding-top: 5px;"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source-numbers" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #999999; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-right: 12px;">1<br />2<br />3<br />4<br />5<br /></pre></td><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><pre class="sunburst" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><span class="keyword keyword_control keyword_control_c" style="color: #008800; font-weight: bold;">for</span>(<span class="storage storage_type storage_type_objc" style="color: #008800; font-weight: bold;">id</span> obj in array){<br /> <span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingIntensiveWith:</span>obj</span>]</span>;<br />}<br /><br /><span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingWith:</span>array</span>]</span>;<br /></pre></pre></td></tr></tbody></table></div><div class="credit" style="background-attachment: initial; background-clip: initial; background-color: #eeeeee; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: initial; border-top-style: initial; border-top-width: 0px; color: #666666; font-family: 'Lucida Grande', Arial, Helvetica, sans-serif; font-size: 0.7em; padding-bottom: 7px; padding-left: 15px; padding-right: 15px; padding-top: 7px;"><div class="buttons" style="float: right; margin-top: -3px;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/pastes/2500408.txt" style="color: #336699; text-decoration: none;"><img src="http://pastie.org/images/view.png" height="20" style="border-bottom-width: 0px; border-left-width: 0px; border-right-width: 0px; border-top-width: 0px;" width="67" /></a></span></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/2500408" style="color: #336699; text-decoration: none;">Pastie #2500408</a>&nbsp;linked directly from&nbsp;<a href="http://pastie.org/" style="color: #336699; text-decoration: none;">Pastie</a>.</span></div></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span class="Apple-tab-span" style="white-space: pre;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"> </span></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">위에서의 dispatch_async 은 사용할수없다.<span class="Apple-tab-span" style="white-space: pre;"> </span></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">이문제를 해결하기 위한 방법중 하나는 dispatch groups을&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">사용하는것이다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">dispatch groups은 여러개의 block들을&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">하나의 그룹으로 만들고,</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">block들이 완료 되기를 기다리거나&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">완료시 통보를 받기 위한 방법이다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">사용법</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">1. dispatch_group_create 를 이용 생성</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">2. dispatch_group_async 를 이용, block을 dispatch하고&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">동시에 그룹에 추가한다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">그룹을 이용해서 위 코드를 변경하면 다음과 같다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span><br /><div class="pastie"><div class="allcode" style="border-bottom-color: rgb(221, 221, 221); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(221, 221, 221); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(221, 221, 221); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(221, 221, 221); border-top-style: solid; border-top-width: 1px; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; padding-top: 5px;"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source-numbers" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #999999; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-right: 12px;">1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br /></pre></td><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><pre class="sunburst" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;">dispatch_queue_t queue<br />  = dispatch_get_global_qeueue (DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="constant constant_numeric constant_numeric_c" style="color: #0000dd; font-weight: bold;">0</span>);<br /> <br />dispatch_group_t group = dispatch_group_create();<br /><br /><span class="keyword keyword_control keyword_control_c" style="color: #008800; font-weight: bold;">for</span>(<span class="storage storage_type storage_type_objc" style="color: #008800; font-weight: bold;">id</span> obj in array)<br />  dispatch_group_async(group, queue, ^{<span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingIntensiveWith:</span>obj</span>]</span>;});<br />    <br />dispatch_group_wait(group, DISPATCH_TIME_FOREVER);<br />dispatch_release(group);<br />    <br /><span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingWith:</span>array</span>]</span>;<br /></pre></pre></td></tr></tbody></table></div><div class="credit" style="background-attachment: initial; background-clip: initial; background-color: #eeeeee; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: initial; border-top-style: initial; border-top-width: 0px; color: #666666; font-family: 'Lucida Grande', Arial, Helvetica, sans-serif; font-size: 0.7em; padding-bottom: 7px; padding-left: 15px; padding-right: 15px; padding-top: 7px;"><div class="buttons" style="float: right; margin-top: -3px;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/pastes/2500414.txt" style="color: #336699; text-decoration: none;"><img src="http://pastie.org/images/view.png" height="20" style="border-bottom-width: 0px; border-left-width: 0px; border-right-width: 0px; border-top-width: 0px;" width="67" /></a></span></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/2500414" style="color: #336699; text-decoration: none;">Pastie #2500414</a>&nbsp;linked directly from&nbsp;<a href="http://pastie.org/" style="color: #336699; text-decoration: none;">Pastie</a>.</span></div></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">만약 이 작업이 비동기적으로 수행되어도 된다면&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">dispatch_group_async 를 이용할 수 있다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span><br /><div class="pastie"><div class="allcode" style="border-bottom-color: rgb(221, 221, 221); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(221, 221, 221); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(221, 221, 221); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(221, 221, 221); border-top-style: solid; border-top-width: 1px; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; padding-top: 5px;"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source-numbers" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #999999; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-right: 12px;">1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br /></pre></td><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><pre class="sunburst" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;">dispatch_queue_t queue<br />  = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="constant constant_numeric constant_numeric_c" style="color: #0000dd; font-weight: bold;">0</span>);<br /><br />dispatch_group_t group = dispatch_group_create();<br /><br /><span class="keyword keyword_control keyword_control_c" style="color: #008800; font-weight: bold;">for</span>(<span class="storage storage_type storage_type_objc" style="color: #008800; font-weight: bold;">id</span> obj in array)<br />{<br />  dispatch_group_async(group, queue,<br />    ^{ <span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingIntensiveWith:</span>obj</span>]</span>; });<br />}<br /><br /><span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++" style="color: #888888;">//그룹이 완료되면 호출될 block을 지정</span><br />dispatch_group_notify(group, queue, ^{ <span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingWith:</span>array</span>]</span>; });<br /><br />dispatch_release(group);<br /></pre></pre></td></tr></tbody></table></div><div class="credit" style="background-attachment: initial; background-clip: initial; background-color: #eeeeee; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: initial; border-top-style: initial; border-top-width: 0px; color: #666666; font-family: 'Lucida Grande', Arial, Helvetica, sans-serif; font-size: 0.7em; padding-bottom: 7px; padding-left: 15px; padding-right: 15px; padding-top: 7px;"><div class="buttons" style="float: right; margin-top: -3px;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/pastes/2500419.txt" style="color: #336699; text-decoration: none;"><img src="http://pastie.org/images/view.png" height="20" style="border-bottom-width: 0px; border-left-width: 0px; border-right-width: 0px; border-top-width: 0px;" width="67" /></a></span></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/2500419" style="color: #336699; text-decoration: none;">Pastie #2500419</a>&nbsp;linked directly from&nbsp;<a href="http://pastie.org/" style="color: #336699; text-decoration: none;">Pastie</a>.</span></div></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">최종 결과를 가지고 처리해야 할 작업(doSomethingWith)도&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">백그라운로 처리된다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">만약 doSomethingWith이 main thread에서 처리되어야&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">한다면 (GUI변경등),</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">dispatch_group_notify에&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">global queue가 아닌 main queue 를 전달하면 된다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">GCD에서는 동기적() 경우를 편리하게 하기위한 dispatch_apply&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">함수를 제공한다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">이함수는 하나의 block을 병행적으로&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">여러번 호출하면서 완료되기를 기다린다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span><br /><div class="pastie"><div class="allcode" style="border-bottom-color: rgb(221, 221, 221); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(221, 221, 221); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(221, 221, 221); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(221, 221, 221); border-top-style: solid; border-top-width: 1px; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; padding-top: 5px;"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source-numbers" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #999999; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-right: 12px;">1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></pre></td><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><pre class="sunburst" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;">dispatch_queue_t queue<br />  = dispatch_get_global_qeueue (DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="constant constant_numeric constant_numeric_c" style="color: #0000dd; font-weight: bold;">0</span>);<br /><br />dispatch_apply(<span class="meta meta_bracketed meta_bracketed_objc">[array <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">count</span></span>]</span>, queue,<br /> ^(<span class="support support_type support_type_sys-types support_type_sys-types_c">size_t</span> index){ <span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingIntensiveWith:</span><br />          <span class="meta meta_bracketed meta_bracketed_objc">[array <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">objectAtIndex:</span>index</span>]</span></span>]</span>;<br />});<br /><span class="comment comment_line comment_line_double-slash comment_line_double-slash_c++" style="color: #888888;">//완료되었다.</span><br /><span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingWith:</span>array</span>]</span>;<br /></pre></pre></td></tr></tbody></table></div><div class="credit" style="background-attachment: initial; background-clip: initial; background-color: #eeeeee; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: initial; border-top-style: initial; border-top-width: 0px; color: #666666; font-family: 'Lucida Grande', Arial, Helvetica, sans-serif; font-size: 0.7em; padding-bottom: 7px; padding-left: 15px; padding-right: 15px; padding-top: 7px;"><div class="buttons" style="float: right; margin-top: -3px;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/pastes/2500421.txt" style="color: #336699; text-decoration: none;"><img src="http://pastie.org/images/view.png" height="20" style="border-bottom-width: 0px; border-left-width: 0px; border-right-width: 0px; border-top-width: 0px;" width="67" /></a></span></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/2500421" style="color: #336699; text-decoration: none;">Pastie #2500421</a>&nbsp;linked directly from&nbsp;<a href="http://pastie.org/" style="color: #336699; text-decoration: none;">Pastie</a>.</span></div></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">그렇다면 비동기적인 처리는 어떠한가?</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">dispatch_apply 의 비동기 버전은 존재하지 않는다.&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">하지만</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">dispatch_async 함수를 이용하여, 모든 작업을&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">백그라운드 작업(비동기)으로</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">만들 수 있다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span><br /><div class="pastie"><div class="allcode" style="border-bottom-color: rgb(221, 221, 221); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(221, 221, 221); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(221, 221, 221); border-right-style: solid; border-right-width: 1px; border-top-color: rgb(221, 221, 221); border-top-style: solid; border-top-width: 1px; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; padding-top: 5px;"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source-numbers" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; color: #999999; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace; padding-right: 12px;">1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br /></pre></td><td style="color: #555555; font-family: 돋움, Dotum; font-size: 12px; line-height: 18px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><pre class="textmate-source" style="background-attachment: initial; background-clip: initial; background-color: white; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;"><pre class="sunburst" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; font-family: 'Bitstream Vera Sans Mono', Monaco, Consolas, 'Courier New', monospace;">dispatch_queue_t queue<br />  = dispatch_get_global_qeueue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="constant constant_numeric constant_numeric_c" style="color: #0000dd; font-weight: bold;">0</span>);<br /><br />dispatch_async(queue,<br /> ^{<br />        dispatch_apply(<span class="meta meta_bracketed meta_bracketed_objc">[array <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">count</span></span>]</span>, queue,<br />        ^(<span class="support support_type support_type_sys-types support_type_sys-types_c">size_t</span> index){ <span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingIntensiveWith:</span><br />             <span class="meta meta_bracketed meta_bracketed_objc">[array <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">objectAtIndex:</span>index</span>]</span></span>]</span>;<br />        });<br />        <span class="meta meta_bracketed meta_bracketed_objc">[<span class="variable variable_language variable_language_objc" style="color: #003388; font-weight: bold;">self</span> <span class="meta meta_function-call meta_function-call_objc"><span class="support support_function support_function_any-method support_function_any-method_objc" style="color: #cc0000; font-weight: bold;">doSomethingWith:</span>array</span>]</span>;<br />    });<br /></pre></pre></td></tr></tbody></table></div><div class="credit" style="background-attachment: initial; background-clip: initial; background-color: #eeeeee; background-image: initial; background-origin: initial; background-position: initial initial; background-repeat: initial initial; border-bottom-color: rgb(204, 204, 204); border-bottom-style: solid; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(204, 204, 204); border-left-style: solid; border-left-width: 1px; border-right-color: rgb(204, 204, 204); border-right-style: solid; border-right-width: 1px; border-top-color: initial; border-top-style: initial; border-top-width: 0px; color: #666666; font-family: 'Lucida Grande', Arial, Helvetica, sans-serif; font-size: 0.7em; padding-bottom: 7px; padding-left: 15px; padding-right: 15px; padding-top: 7px;"><div class="buttons" style="float: right; margin-top: -3px;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/pastes/2500424.txt" style="color: #336699; text-decoration: none;"><img src="http://pastie.org/images/view.png" height="20" style="border-bottom-width: 0px; border-left-width: 0px; border-right-width: 0px; border-top-width: 0px;" width="67" /></a></span></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><a href="http://pastie.org/2500424" style="color: #336699; text-decoration: none;">Pastie #2500424</a>&nbsp;linked directly from&nbsp;<a href="http://pastie.org/" style="color: #336699; text-decoration: none;">Pastie</a>.</span></div></div><span style="font-family: Tahoma, arial, helvetica, sans-serif;"></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">이러한 작업에서 중요한점은, 동시에 여러개의 데이터들에 대해서</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">동일한 작업을 하는 코드를 구분해내고, 또한 그작업이 thread safe하게</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">병행처리 될수 있는지 확인 하는 것이다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">이조건이 만족되면 GCD를 이용, 병행 처리가 가능하다.&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">성능 관련해서 GCD가</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">쓰레드보다 경량, 부하가 작다고는 하지만,&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">block이 복사되어 큐에 들어가고,</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">적합한 작업 쓰레드가&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">처리하는 과정등.. 큐에 block을 제공 하는것은 여전히 비용이</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">드는 일이다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">예를 들어 어떤 이미지의 모든 픽셀처리를 위한 block을&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">큐에 제출 하는 것 은</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">별 도움이 되지 않을 것 이다.&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">하지만 여러 이미지들을 전환하기 위해 하나의</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">이미지 처리를&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">위한 block을 큐로 제출 하는 것 은 좋은 활용 방안이다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">GCD사용이 이득인지 아닌지 의심스러우면, 실험이 필요하다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">어플리케이션 병행처리란 즉 최적화란 의미이다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">실험 전후를 측정해서 병행 처리의 이득을 보고 있는지&nbsp;</span><span style="font-family: Tahoma, arial, helvetica, sans-serif;">꼭 확인해야 한다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Tahoma, arial, helvetica, sans-serif;">온전한 내용을 원하신다면 원문을 참조하기 바랍니다...</span></div><br class="Apple-interchange-newline" />