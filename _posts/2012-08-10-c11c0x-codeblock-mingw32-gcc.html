---
layout: post
title: C++11(C++0x) 과 CodeBlock , mingw32-gcc
date: '2012-08-10T13:13:00.002+09:00'
author: jeremyko
tags:
- cpp
- CodeBlock
- mingw32-gcc
modified_time: '2016-09-09T17:52:18.962+09:00'
thumbnail: http://4.bp.blogspot.com/-h4R5IdSGoJ4/UCSIxBmpKwI/AAAAAAAAA34/yh89JSfxsMU/s72-c/1.jpg
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-3518309587729136999
blogger_orig_url: https://jeremyko.blogspot.com/2012/08/c11c0x-codeblock-mingw32-gcc.html
---

<br />C++11 (C++0x) 기능을 CodeBlock, mingw32-gcc 를 이용해서 Windows에서 시험해 보자. 새로운 c++ 표준의 기능들을 시험해보기 위해서는 VC++ express 2010 를 비롯한 다양한 컴파일러를 이용해서 해볼수 있지만,&nbsp;<a href="https://wiki.apache.org/stdcxx/C++0xCompilerSupport" target="_blank"><b><i>https://wiki.apache.org/stdcxx/C++0xCompilerSupport</i></b></a> 에서 확인 할수 있듯, 현재 MSVC보다는 GCC 가 새로운 feature들을 더 많이 구현해놓았다. 또한 테스트 코드를 생성해서 컴파일 명령을 직접 수행해서 테스트 해볼 수도 있지만, 공개 IDE 소프트웨어인 CodeBlock을 사용해서 테스트 할수 있는 환경을 만들어보자. <b><i>&nbsp;</i></b><br /><br /><a href="http://www.codeblocks.org/downloads/binaries" target="_blank"><b><i>http://www.codeblocks.org/downloads/binaries</i></b></a> 에서 codeblocks-10.05-setup.exe 를 다운로드 받는다. mingw32-gcc 가 포함된 버전도 있지만, 여기 포함된 있는 mingw32-gcc 버전은 최신 버전이 아니다.&nbsp;우리는 별도로&nbsp;C++11 기능을 더 잘 지원하는 mingw32-gcc를 다운로드 받아서 설치 할것이다.&nbsp;<a href="http://code.google.com/p/mingw-builds/downloads/list" target="_blank"><b><i>http://code.google.com/p/mingw-builds/downloads/list</i></b></a> 에서 mingw32-gcc-4.6.3-release-c,c++,fortran-sjlj.zip 를 다운로드 한다. 그리고 적당한 위치에 압축을 푼다.<br /><br />C++11 의 간단한 예제로는 Range-based for-loop 기능을 한번 테스트 해보기로 하자.<br /><br />설치된 CodeBlock을 실행하고, File -&gt; New -&gt; Project -&gt; Console Application 을 생성한다. 사용언어는 CPP 설정. title은 "cpp11x_rangeForLoop" 로 한다.<br /><br />이제, 다운받은 mingw32-gcc 컴파일러를 사용하게끔 환경 설정이 필요하다. Setting -&gt; Compiler and debugger 를 연다. 기본 컴파일러로 GNU GCC Compiler가 설정이 되어있을것이다.<br /><br /><a name='more'></a><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-h4R5IdSGoJ4/UCSIxBmpKwI/AAAAAAAAA34/yh89JSfxsMU/s1600/1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://4.bp.blogspot.com/-h4R5IdSGoJ4/UCSIxBmpKwI/AAAAAAAAA34/yh89JSfxsMU/s320/1.jpg" width="308" /></a></div><br />새로운 컴파일러 환경을 만들기 위해서 Copy를 누른다. 그럼 새로운 컴파일러 이름을 설정하는 부분이 나오는데, 적당한 이름을 설정하고 확인을 누른다. 여기서는 CPP11 GNU GCC Compiler 라고 이름을 만들었다.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-HcezlFwLxNs/UCSI0LRgpAI/AAAAAAAAA4Y/7j-9Vo4QYRQ/s1600/2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://3.bp.blogspot.com/-HcezlFwLxNs/UCSI0LRgpAI/AAAAAAAAA4Y/7j-9Vo4QYRQ/s320/2.jpg" width="308" /></a></div><br /><br />Toolchain executables설정을 변경 하는것을 잊지 말라는 친절한 메시지가 출력된다.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-kKeqJbZSFVo/UCSI0yTrRmI/AAAAAAAAA4g/YN6Bf1WcGuE/s1600/3.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://4.bp.blogspot.com/-kKeqJbZSFVo/UCSI0yTrRmI/AAAAAAAAA4g/YN6Bf1WcGuE/s320/3.jpg" width="308" /></a></div><br /><br />Toolchain executables 설정 버튼을 눌러서, 컴파일러 설정을 해줘야 한다.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-UULcveLd9qY/UCSI1YXVloI/AAAAAAAAA4o/MZkEj3vWb8U/s1600/4.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://2.bp.blogspot.com/-UULcveLd9qY/UCSI1YXVloI/AAAAAAAAA4o/MZkEj3vWb8U/s320/4.jpg" width="308" /></a></div><br /><br />우선, 컴파일러 설치 디렉토리를 변경한다. 우리가 다운로드 받은 mingw32-gcc 의 위치를 지정해야한다. 그리고 다음처럼 Program Files 설정을 해준다.&nbsp;혹시 Linker 설정에 ld 를 설정하는 실수를 할수도 있다 (바로 나 --;). 이러면 컴파일이 안된다. 링크 작업을 ld로 직접하는게 아니라 g++ 을 통해서 수행되도록, 반드시 g++로 설정해야 한다.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-TRpW1GdshNM/UCSI2MqdbFI/AAAAAAAAA4w/a2rouzgqo2Q/s1600/5.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://4.bp.blogspot.com/-TRpW1GdshNM/UCSI2MqdbFI/AAAAAAAAA4w/a2rouzgqo2Q/s320/5.jpg" width="308" /></a></div><br /><br />새로만든 이컴파일러 설정을 기본 컴파일러로 설정하기 위해 Set as default를 클릭한다.<br /><br />main.cpp 에 다음처럼 코딩하고, Build를 한번 수행해보자.<br /><br /><span style="color: #45818e;">#include &lt;iostream&gt;</span><br /><span style="color: #45818e;">#include &lt;vector&gt;</span><br /><span style="color: #45818e;"><br /></span><span style="color: #45818e;">using namespace std;</span><br /><span style="color: #45818e;"><br /></span><span style="color: #45818e;">int main()</span><br /><span style="color: #45818e;">{</span><span style="color: #45818e;">&nbsp; &nbsp; vector &lt;int&gt; data = { 1, 2, 3, 4 };</span><br /><span style="color: #45818e;"><br /></span><span style="color: #45818e;">&nbsp; &nbsp; //Range-based for-loop 테스트</span><br /><span style="color: #45818e;">&nbsp; &nbsp; for ( int datum : data )</span><br /><span style="color: #45818e;">&nbsp; &nbsp; {</span><br /><span style="color: #45818e;">&nbsp; &nbsp; &nbsp; &nbsp; cout &lt;&lt; datum &lt;&lt; endl;</span><br /><span style="color: #45818e;">&nbsp; &nbsp; }</span><span style="color: #45818e;">&nbsp; &nbsp; return 0;</span><br /><span style="color: #45818e;">}</span><br /><br />그런데 제대로 컴파일되지 않는다.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Hxu4FXgCp84/UCSI23U6TEI/AAAAAAAAA44/CHprQvTibrw/s1600/8.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="218" src="http://2.bp.blogspot.com/-Hxu4FXgCp84/UCSI23U6TEI/AAAAAAAAA44/CHprQvTibrw/s320/8.jpg" width="320" /></a></div><br /><br />c++0x 의 기능을 사용하기 위한 컴파일러 flag ( -std=c++0X )를 설정해줘야 하기 때문이다. 다시 Setting -&gt; Compiler and debugger 를 연다. 그리고 Compiler flag항목에서 -std=c++0X 설정하는 부분을 찾아서 체크해준다.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-ryd8LMPK5mk/UCSI3oM-tLI/AAAAAAAAA5A/gVzZuW1um6A/s1600/9.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://1.bp.blogspot.com/-ryd8LMPK5mk/UCSI3oM-tLI/AAAAAAAAA5A/gVzZuW1um6A/s320/9.jpg" width="308" /></a></div><br /><br />다시 확인을 한번 해보자.&nbsp;프로젝트에서 오른쪽 버튼을 클릭해서 properties메뉴를 클릭한다. 그리고 project's build options 항목을 열고, Selected compiler가 우리가 새로 만든 컴파일러임을 다시 확인해 본다.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-cdFl1Iv-mqo/UCSIyEtPBxI/AAAAAAAAA4A/s7dFwpjECZg/s1600/10.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="221" src="http://3.bp.blogspot.com/-cdFl1Iv-mqo/UCSIyEtPBxI/AAAAAAAAA4A/s7dFwpjECZg/s320/10.jpg" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-H6tRNCMBPQg/UCSIyhrmHBI/AAAAAAAAA4I/m16B5ZrS30g/s1600/11.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="222" src="http://2.bp.blogspot.com/-H6tRNCMBPQg/UCSIyhrmHBI/AAAAAAAAA4I/m16B5ZrS30g/s320/11.jpg" width="320" /></a></div><br /><br />이상 없다면 F9를 눌러서 프로그램을 실행해보자.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-8Bcrye-hym8/UCSIzFDjuBI/AAAAAAAAA4Q/go-qsRp_94c/s1600/12.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="218" src="http://3.bp.blogspot.com/-8Bcrye-hym8/UCSIzFDjuBI/AAAAAAAAA4Q/go-qsRp_94c/s320/12.jpg" width="320" /></a></div><br /><br />CodeBlock 과 mingw32-gcc 을 이용해서 C++11 의 기능들을 편리하게 시험해볼수 있다. 그런데, mingw32-gcc 은 아직 버전이 4.6.3 이다. 때문에 override and final 과 같은 기능들은 시험해 볼 수 없다 (4.7에서만 가능).&nbsp;하지만 시간이 갈수록 컴파일러들가 지원하는 기능들이 많아질터이니 <a href="https://wiki.apache.org/stdcxx/C++0xCompilerSupport" target="_blank"><i><b>https://wiki.apache.org/stdcxx/C++0xCompilerSupport</b></i></a> 를 계속 모니터링 하면서 스터디 해보면 좋을것 같다.