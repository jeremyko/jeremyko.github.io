---
layout: post
title: const 사용
date: '2011-09-28T17:53:00.000+09:00'
author: jeremyko
tags:
- const
modified_time: '2012-09-25T14:15:26.596+09:00'
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-2080020457388047732
blogger_orig_url: https://jeremyko.blogspot.com/2011/09/const.html
---

<span style="font-family: Arial, Helvetica, sans-serif;">참조: <a href="http://drdobbs.com/cpp/231601151?cid=DDJ_nl_upd_2011-09-27_h">http://drdobbs.com/cpp/231601151?cid=DDJ_nl_upd_2011-09-27_h</a></span><br /><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span>헷갈리는 const사용시,<br />전통적인 const의 사용법과는 좀 틀리지만&nbsp;알아보기 쉬운 스타일을 소개한 내용이다.<br />기존에 사용되는 고전적인 방법과 다음에 소개되는 사용 스타일중 어떤것이&nbsp;더 이해하기 쉬운지는 각자 판단에 맡긴다...<br /><br /><span style="background-color: #fff2cc;"><b><span style="color: #134f5c;">const 사용 style : </span></b></span><br /><span style="background-color: #fff2cc;"><b><span style="color: #134f5c;">1. const 선언을 위해서는 const가 되어야하는것 오른쪽에 const를 위치한다.</span></b></span><br /><br />예를 들어 const char에 대한 포인터를 선언하는 경우 다음과 같다.<br /><br /> // pointer to const char&nbsp;<div>const char a ='a';&nbsp;</div><div>const char b ='b';&nbsp;<div><br /></div><div>// 고전적인 방법</div><div>const char* p0=&amp;a;&nbsp;</div><div>p0=&amp;b; //OK&nbsp;</div><div>*p0 ='c'; //Not OK<br /><br />// 위의 규칙을 적용, 다음처럼 가능.<br />char const *p; //좀 이해하기 쉬운가?<br /><br /> p=&amp;b; //OK&nbsp;<div>*p ='c'; //Not OK<br /><br />// 위규칙을 적용한 또다른 경우 (문자열)<br /><br />// 고전적인 방법<br />&nbsp;const char* NAME = "Foo"; // NAME=&gt; const char* "Foo"에 대한 포인터<br /><br /> NAME[0] = 'g'; //Not OK&nbsp;</div><div>NAME = "Bar"; //OK<br /><br /> // 위의 규칙을 적용, 다음처럼 가능.<br />char const* NAME1 = "Foo"; // NAME1=&gt; const char* "Foo"에 대한 포인터&nbsp;</div><div>NAME1[0] = 'g'; //Not OK&nbsp;</div><div>NAME1 = "Bar"; //OK<br /><br /> <br /><span style="background-color: #fff2cc;"><span style="color: #134f5c;"><b>2. 이선언을 해석하기 위해서는 오른쪽에서 왼쪽으로 가면서 해석한다.</b></span></span><br /><br /> 즉, p는 const char에 대한 포인터이다.<br /><br /><span style="color: #0b5394;"><i>참조 </i></span></div><div><span style="color: #0b5394;"><i>char에 대한 const 포인터를 선언하는 경우 다음과 같다. <br />// const pointer to char&nbsp;</i></span></div><div><span style="color: #0b5394;"><i>char a2 = 'a';&nbsp;</i></span></div><div><span style="color: #0b5394;"><i>char b2 = 'b';&nbsp;</i></span></div><div><span style="color: #0b5394;"><i>char* const p2 = &amp;a2;&nbsp;</i></span></div><div><span style="color: #0b5394;"><i>p2=&amp;b2; //Not&nbsp;</i></span></div><div><span style="color: #0b5394;"><i>OK *p2='c'; //OK<br /> 해석 역시, p는 const 포인터 (char에 대한) 로 해석한다.</i></span><br /></div><div><b style="background-color: #fff2cc;"><span style="color: #134f5c;">const pointer to const char* 경우 :</span></b><br /></div><div>어떤 개발자가 NAME의 내용을 변경못하게 하기 위해, <br />const char*를 가르키는 포인터 NAME을 다음처럼 선언했다고 가정한다.<br /><br />const char* NAME = "Foo"; (혹은 앞서 설명된대로.. char const* NAME = "Foo"; )<br /><br /> 그래서, 다음처럼 사용될수 없다.&nbsp;</div><div>NAME[0] = 'g';&nbsp;</div><div><br /></div><div>그런데 다음은 가능하다. 이것은 의도했던 상황은 아니다.&nbsp;</div><div>NAME = "Bar"; //"Bar" 역시 const char* 이기 때문.&nbsp;</div><div>이것을 막기 위해서는 상수 char*를 가르키는 포인터 NAME 역시 const로 지정해야한다. <br /><br />const char* const NAME = "Foo"; //혹은<br />char const* const NAME = "Foo";<br /></div></div></div>