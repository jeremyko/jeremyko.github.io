---
layout: post
title: xslt 초간단 정리
date: '2013-04-05T16:36:00.003+09:00'
author: jeremyko
tags:
- 바퀴의 재발명
- 삽질
modified_time: '2013-06-10T00:29:16.045+09:00'
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-276775922936422261
blogger_orig_url: https://jeremyko.blogspot.com/2013/04/xslt.html
---

<br /><span style="font-family: inherit;"><span style="background-color: #fefdfa; color: #333333; line-height: 18px; text-align: justify;">2013-05-16 업데이트 :&nbsp;</span></span><br /><br /><span style="background-color: #fefdfa; color: #333333; line-height: 18px; text-align: justify;"><span style="font-family: inherit;">sqlite를 사용하는 라이브러리를 작성.</span></span><br /><a href="https://github.com/jeremyko/ComDBLib" style="line-height: 18px; text-align: justify;">https://github.com/jeremyko/ComDBLib</a><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;"><b>xml은 간단한 설정 이나 프로그램간 데이터 교환시에 유용하다.</b></span><br /><span style="font-family: Verdana, sans-serif;"><b>만약 xml 데이터를 데이터베이스 용도로 사용하고 싶다면, 기존 상용/오픈소스 정도 수준의 API 를 제공할 각오로 개발을 하던지, 아니면 그냥 오픈 소스 도입하자는게 나의 생각이다. </b></span><br /><br /><span style="font-family: Verdana, sans-serif;">지금</span><span style="font-family: Verdana, sans-serif;">&nbsp;일하는 사이트에서 xml과 xslt를 사용해서 xml db를 를 구현하는 상황을 맞이하고 있다.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">모든 데이터베이스 테이블의 자료를 xml 파일로 변환해서 ftp 로 다운로드후,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">프로그램이 데이터베이스를 안보고 이 xml에서 원하는 데이터를 추출하려는 의도로 보이는데,,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">문제는 모든 프로그램 내 sql query에 상응하는 xslt 파일을 만들어 줘야 한다는 것이며,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">또한 간단한 select 하나도 일일이 xslt 로 구현하자니 여간 성가시고 시간 잡아먹는 일이 아닐뿐더러,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">거기다 한술 더떠 distinct, group by, like, join , sub query등의&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">약간만 복잡한 query가 나오는 경우엔 이걸 다 일일이 xslt 문법을 통해서 구현을 해줘야한다는 것이다..&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">그리고 만약 아주 복잡한 쿼리를 사용한 경우라면 구현 자체가 불가능 해질수도 있다.</span><br /><span style="font-family: Verdana, sans-serif;">웹에서나 화면 처리하라는 용도의 xslt 아니었던가? 이거 가지고 뭐하는 건지.. </span><br /><span style="font-family: Verdana, sans-serif;">xml은 데이터 교환이나 간단한 설정 파일용도로 사용해야지 ..</span><br /><span style="font-family: Verdana, sans-serif;">그나저나 다시 예전의 기억을 되살려서 xslt 문법 보고 있는 내모습 ㅠㅠㅠ </span><br /><span style="font-family: Verdana, sans-serif;"></span><br /><a name='more'></a><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">아래 사이트 내용을 간단하게 정리한것임.</span><br /><a href="http://infohost.nmt.edu/tcc/help/pubs/xslt/index.html">http://infohost.nmt.edu/tcc/help/pubs/xslt/index.html</a><br /><br /><span style="font-family: Verdana, sans-serif;">xml 데이터가 다음과 같을때,</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;!DOCTYPE park SYSTEM "trails.dtd"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;park name="Lincoln Natural Forest"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;trail dist="3400" climb="medium"&gt;Canyon Trail&lt;/trail&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;trail climb="easy" dist="1200"&gt;Pickle Madden Trail&lt;/trail&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/park&gt;</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">다음과 같이 출력을 하길 원하는 경우</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;html&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;head&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;title&gt;Local Hiking Trails&lt;/title&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;/head&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;body&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;ul&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;li&gt;Canyon Trail: 3400 feet, climb medium&lt;/li&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;li&gt;Pickle Madden Trail: 1200 feet, climb easy&lt;/li&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/ul&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;/body&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/html&gt;</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">xslt 는 다음과 같다.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;?xml version="1.0"?&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:stylesheet version="1.0"</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:output method="html"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;!-- 이 템플릿은 루트 노드(/) 를 처리한다. --&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:template match="/"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;!-- &nbsp;xsl: prefix 가 없는 태그는 그대로 출력된다. --&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;html&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;head&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;title&gt;Local Hiking Trails&lt;/title&gt;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/head&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;body&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;ul&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- 모든 &lt;trail&gt; element들을 아래 템플릿을 적용해서 변환한다. --&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:apply-templates select="park/trail"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/ul&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/body&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;/html&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/xsl:template&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;!-- 이 템플릿이 &lt;trail&gt; element들을 처리하기 위해 사용된다. !--&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:template match="trail"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;li&gt;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- &lt;trail&gt; element 안의 텍스트를 출력, XPath expression for the content of a node is "." --&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:value-of select="."/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- colon 과 공백을 출력 --&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:text&gt;: &lt;/xsl:text&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- trail element의 "dist=" attribute 출력: @ 사용! &nbsp;--&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:value-of select="@dist"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:text&gt; feet, climb &lt;/xsl:text&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:value-of select="@climb"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;/li&gt;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/xsl:template&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/xsl:stylesheet&gt; &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">--------------------------------------------------------------------------------</span><br /><span style="font-family: Verdana, sans-serif;">text()</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; This function selects all the text children of the context node.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">comment()</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; Selects all comments that are children of the context node.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">processing-instruction() &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; Selects all children of the context node that are processing instructions.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">-------------------------------------------------------------------------------- &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">4.5. XPath operators &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">e1[e2]<span class="Apple-tab-span" style="white-space: pre;"> </span></span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; Square brackets enclose a predicate, which specifies an expression e2 that&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; selects nodes from a larger set e1.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; For example, in the XPath expression "para[@class='note']", the para&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; selects all &lt;para&gt; children of the context node, and then the predicate&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; selects only the children that have an attribute class="note".&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; Another example: "item[1]" would select the first &lt;item&gt; child of the context node.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">4.6. XPath functions &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; http://infohost.nmt.edu/tcc/help/pubs/xslt/xpath-functions-sect.html</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">-------------------------------------------------------------------------------- &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">7.5. &lt;xsl:key&gt;: Create an index to optimize input document access &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; http://infohost.nmt.edu/tcc/help/pubs/xslt/xsl-key.html</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">The purpose of the &lt;xsl:key&gt; element is to define an index on information in the input file,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">so that the XSLT processor can retrieve that information more efficiently&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">than by searching the entire file.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">This is admittedly an advanced feature, but can be very useful for larger projects.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">You must give each key a name, using the name attribute,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">that will be used to refer to it later.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">Two more attributes describe which nodes to index, and what text to use as the index:</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">match</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; 인덱스로 사용할 노드를 지정. 노드셋</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; To define which nodes of the input document are indexed,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; use attribute match="m", where m is an XPath expression describing a node set.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">use</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; 노드의 어떤것을 인덱스로 사용할것인가.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; To define what content strings are indexed,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; set this attribute to an XPath expression that describes some content&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; relative to the nodes described by the match attribute.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">For example, suppose you have a document with &lt;river&gt; elements that have a&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">map attribute that you'll be referring to elsewhere.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">You might set up a key called river-map-key by placing this element inside your stylesheet:</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:key name="river-map-key" match="river" use="@map"/&gt; &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; river 요소의 map 속성을 인덱스로 사용.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">-------------------------------------------------------------------------------- &nbsp; &nbsp; &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">8.1. &lt;xsl:template&gt;: Define a template &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; http://infohost.nmt.edu/tcc/help/pubs/xslt/template-elts.html</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">템플릿의 종류:</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; match -&gt; match="trail" specifies a template that matches all &lt;trail&gt; elements.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; name &nbsp;-&gt; &lt;xsl:call-template&gt;을 사용해서 호출.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">-------------------------------------------------------------------------------- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">8.5. &lt;xsl:param&gt;: Define an argument to be passed into a template &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:param name="color" select="'green'"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:param name="color"&gt;green&lt;/xsl:param&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">8.6. &lt;xsl:with-param&gt;: Pass an argument to a template &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:with-param name="color" select="'green'"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:with-param name="color"&gt;green&lt;/xsl:with-param&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">9.2. &lt;xsl:value-of&gt;: Output the value of an expresssion &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; For example, suppose you have defined a variable named lap-count and&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; it currently has a value of 32. This element would place the text "33" in the output:</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:value-of select="$lap-count+1"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">9.3. &lt;xsl:element&gt;: Output an element &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; river 요소에서 이름이 salinity속성과 같은것을 출력.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:element name="@salinity"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;xsl:value-of select="@flow-rate"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/xsl:element&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">9.4. &lt;xsl:attribute&gt;: Output an attribute &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;dish&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;xsl:attribute name="$dish-tag" namespace="'dl'"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:value-of select="$dish-lang"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;/xsl:attribute&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/dish&gt;</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">-------------------------------------------------------------------------------- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">10.1. &lt;xsl:for-each&gt;: Iterate over a set of nodes</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; select (required)</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; An XPath expression that specifies the node-set over which you want to iterate.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:for-each select="daughter|son"&gt;...&lt;/xsl:for-each&gt; &nbsp; &nbsp; &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">10.2. &lt;xsl:if&gt;: Conditional processing &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; This writes the value of variable head-count to the output, but only if it is an odd number:</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:if test="($head-count mod 2)=1"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;xsl:value-of select="$head-count"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/xsl:if&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">10.3. &lt;xsl:choose&gt;: The multiple-case construct &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; optional &lt;xsl:otherwise&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:for-each select="turtle"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;xsl:choose&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:when test="position() = 1"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:text&gt;(&lt;/xsl:text&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:apply-templates select="."/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:text&gt;)&lt;/xsl:text&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/xsl:when&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:when test="position() = count()"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:text&gt;[&lt;/xsl:text&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:apply-templates select="."/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:text&gt;]&lt;/xsl:text&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/xsl:when&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:otherwise&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;xsl:apply-templates select="."/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/xsl:otherwise&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;/xsl:choose&gt; &nbsp; &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/xsl:for-each&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">10.4. &lt;xsl:call-template&gt;: Invoke another template &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">11.10. &lt;xsl:sort&gt;: Process nodes in a given order</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; You can use multiple &lt;xsl:sort&gt; elements to specify multiple sort keys.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; That is, if there are two &lt;xsl:sort&gt; elements, the first one specifies the primary key,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; and the second one the secondary sort key (to be used in comparing items that have the same value for the primary key).</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; select</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; An XPath expression that selects the nodes to be sorted. The default value is the node-set of the parent element.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; data-type</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; Use a value of "text" to treat the items as text strings, or a value of "number" to treat them as numbers. Default is "text".</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; order</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; Use "asc" for ascending order (this is the default), or "desc" for descending order.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; case-order</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; Specifies how to compare uppercase and lowercase letters. A value of "upper-first" forces uppercase letters before lowercase ones; the opposite is "lower-first".</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; The default is language-dependent.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; lang</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp; Defines the language to be used in sorting. See the definition of the language codes online.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;xsl:for-each select="person"&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;xsl:sort select="surname"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;xsl:sort select="first-name"/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp; &lt;xsl:apply-templates select="."/&gt;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &lt;/xsl:for-each&gt; &nbsp; &nbsp; &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">-------------------------------------------------------------------------------- &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">12.4. generate-id(): Generate a unique identifier &nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;The purpose of this function is to generate a string of characters that uniquely identifies a node.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;Such values are useful for attributes of type ID.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;The function takes one optional argument, a node-set:</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; generate-id(S)</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;where S is a node-set.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;If S is not given, the function generates an identifier for the context node.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;If S is empty, the function returns an empty string.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;If S contains more than one node, the function operates on the one that occurs first in the document.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;!!!!!! 동일한 수행에서는, 특정 노드에 대해서는 항상 같은 값을 생성하는것이 보장된다 !!!!</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;Within a given execution, this function will always produce the same value for a given node.&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;There is no guarantee that it will produce the same value on a different execution of the stylesheet.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">-------------------------------------------------------------------------------- &nbsp; &nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">12.5. key(): Refer to an index entry &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; 문서 내부 아무곳에서나 노드집합을 가져올수 있게 해준다.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; This function is used to retrieve a set of nodes from anywhere in the document,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; using the index specified elsewhere by an &lt;xsl:key&gt; element.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; key(keyName, keyValue )</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; where keyName matches the name attribute of an &lt;xsl:key&gt; element,&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; and keyValue is a string. The result is a node-set containing all the nodes whose value for that key matches keyValue.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; 키로 정의한 값이 keyValue 와 일치하는 모든 노드들을 가져온다.</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: Verdana, sans-serif;">&nbsp; &nbsp; &nbsp;&lt;xsl:key name="river-map-key" match="river" use="@map"/&gt;</span>