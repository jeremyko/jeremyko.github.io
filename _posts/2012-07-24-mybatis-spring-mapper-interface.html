---
layout: post
title: 'MyBatis-Spring : mapper interface 와 annotation을 활용한 게시판 예제'
date: '2012-07-24T16:21:00.002+09:00'
author: jeremyko
tags:
- MyBatis
- spring
- MyBatis-Spring
- 게시판
- java
modified_time: '2012-08-29T13:08:41.462+09:00'
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-4277483001133499946
blogger_orig_url: https://jeremyko.blogspot.com/2012/07/mybatis-spring-mapper-interface.html
---

<br /><div style="color: #660000;"><b>MyBatis-Spring : mapper interface 와 annotation을 활용한 게시판 예제</b></div><br /><b style="background-color: #ffe599;"><i><a href="http://jeremyko.blogspot.kr/2012/07/mybatis-spring.html" style="color: #073763;" target="_blank">지난번 MyBatis-Spring 에 대한 소개</a></i></b> 에 이어서, 이를 활용한 간단한 게시판 작성 예제를 작성해본다. XML파일에 맵핑을 정의하지 않고, mapper interface 와 annotation을 이용해서 처리하는것으로 해봤다. 게시판은 전체 목록 출력, 검색기능, 내용보기 및 수정, 삭제등의 아주 기본적인 기능만을 다루고 있다. 이 프로젝트의 소스는 다음 위치에 있으니 참조하시길 바란다.<br /><b><a href="https://github.com/jeremyko/SpringMvcBoardMyBatis">https://github.com/jeremyko/SpringMvcBoardMyBatis</a></b><br /><br /><b style="color: blue;"><span style="color: #660000;">1. 우선 기본적인 스프링 MVC 프로젝트를 생성한다.</span>&nbsp;</b><br />간단하게 설명하기 위해서 스프링 환경 설정 부분은 생략했다. 일단 사용된 툴만 적어 보면 다음과 같다 (환경들은 알아서들 잘 맞추시길..자바는 환경 설정이 제일 어려운것 같다.^^).<br /><br /><span style="font-family: inherit; font-size: small;"><span style="color: #783f04; font-family: Arial,Helvetica,sans-serif;">- Eclipse Indigo(3.7)<br />- apache-tomcat-7.0.27<br />- Maven Integration for Eclipse <br />- SpringSource Tool Suite (STS) for Eclipse Indigo(3.7)&nbsp;</span></span><br /><div style="font-family: inherit;"><span style="font-size: small;"><span style="color: #783f04; font-family: Arial,Helvetica,sans-serif;">- 데이터베이스: oracle 11g XE</span></span></div><span style="font-family: inherit; font-size: small;"><span style="color: #783f04; font-family: Arial,Helvetica,sans-serif;">사용된 이클립스 플러그인은 help -&gt; Eclipse Marketplace 에서 검색</span>.</span><br /><br />이클립스 file -&gt; new -&gt; others -&gt; SpringSource Tool Suite -&gt; Spring Template Project -&gt; Spring MVC Project 로 프로젝트를 생성. <br />그다음 pom.xml 파일을 열어서 dependency에 mybatis-spring 을 추가한다<br />&nbsp;&nbsp;&nbsp; <span style="font-size: small;"><span style="color: #783f04;">&lt;!-- MyBatis --&gt;</span><br style="color: #783f04;" /><span style="color: #783f04;">&nbsp;&nbsp;&nbsp; &lt;dependency&gt;</span><br style="color: #783f04;" /><span style="color: #783f04;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br style="color: #783f04;" /><span style="color: #783f04;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;</span><br style="color: #783f04;" /><span style="color: #783f04;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;version&gt;1.1.1&lt;/version&gt;</span><br style="color: #783f04;" /><span style="color: #783f04;">&nbsp;&nbsp;&nbsp; &lt;/dependency&gt;</span></span><br /><br />추가된 dependency를 반영하기 위해서 Run As -&gt; Maven install을 수행한다.<br /><br />Run As -&gt; Run on Server로 생성된 프로젝트가 정상 작동 하는지 확인하기 바란다.<br />Hello World 라고 큼지막하게 웹 페이지가 뜨면 성공이다.<br /><br /><b><span style="color: #660000;">2. 게시판 테이블 및 seq 생성</span></b><br />이 예제에서는 오라클을 이용하고 있다. XE버전은 무료라서 개인이 사용하기에 좋은것 같다. 단지 단점이라면 리소스를 많이 잡아먹는다 (500 MB 메모리 사용). 이클립스가 사용하는 리소스도 상당한데, Oracle까지 돌리면 기본 1GB 정도는 그냥 두놈이 차지하게 된다. 컴에 램이 4GB 는 되어야 좀 돌릴만하다. 만약 다른 DB를 사용한다면, 아래의 내용을 참조로 수정이 필요할 수도 있겠다. <br /><br />&nbsp;&nbsp;&nbsp; <span style="color: #783f04; font-size: small;">CREATE SEQUENCE&nbsp;&nbsp; "SEQ_ID"&nbsp; MINVALUE 1 MAXVALUE 99999999999</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; INCREMENT BY 1 START WITH 1 ;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; CREATE TABLE&nbsp; "SPRING_BOARD"</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; (</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; "ID" NUMBER(10,0) NOT NULL,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SUBJECT" VARCHAR2(50),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "NAME" VARCHAR2(50),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "CREATED_DATE" DATE,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "MAIL" VARCHAR2(50),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "MEMO" VARCHAR2(200),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "HITS" NUMBER(10,0),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; PRIMARY KEY ("ID") ENABLE</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ) ;</span><br /><br /><br /><a name='more'></a><b style="color: #660000;">3. bean 클래스 생성</b><br />데이터를 전달하고 받을때 사용될 bean 클래스를 추가한다.<br /><br /><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">//BoardBean.java</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">package kojh.db.beans;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="font-size: small;"><br /></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">public class BoardBean</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">{</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; int id;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; String name;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; String mail;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; String subject;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; String created_date;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; int hits;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; String memo;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //이클립스의 자동 setter/getter 생성 기능을 이용하자~</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //개인적으로는 { 를 항상 함수명 다음 라인에 코딩하지만, 분량을 줄이고자 이어 붙였다.. </span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public int getId()&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return id;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public void setId(int id)&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.id = id;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String getName()&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return name;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public void setName(String name)&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.name = name;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String getMail()&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return mail;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public void setMail(String mail)&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.mail = mail;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String getSubject()&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return subject;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public void setSubject(String subject)&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.subject = subject;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public int getHits()</span><span style="color: #783f04; font-size: small;">&nbsp; {</span><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return hits;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public void setHits(int hits)&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.hits = hits;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String getMemo()&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return memo;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public void setMemo(String memo)&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.memo = memo;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String getCreated_date()&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return created_date;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public void setCreated_date(String created_date)&nbsp; {</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.created_date = created_date;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">}</span></div><br /><br /><b style="color: #660000;">4. BoardMapper 생성</b><br />Mapper는 앞서 설명된 바와 같이 interface만 가능하다. 실제 구현 클래스로 정의하면 안된다.<br />또한 annotation을 이용해서 데이터 처리를 하는것으로 하였다.<br /><br /><span style="color: #783f04; font-size: small;">// BoardMapper.java</span><br /><span style="color: #783f04; font-size: small;">package kojh.spring.mappers;</span><br /><span style="color: #783f04; font-size: small;">import java.util.ArrayList;</span><br /><span style="color: #783f04; font-size: small;">import org.apache.ibatis.annotations.Result;</span><br /><span style="color: #783f04; font-size: small;">import org.apache.ibatis.annotations.Results;</span><br /><span style="color: #783f04; font-size: small;">import org.apache.ibatis.annotations.Param;</span><br /><span style="color: #783f04; font-size: small;">import org.apache.ibatis.annotations.Select;</span><br /><span style="color: #783f04; font-size: small;">import org.apache.ibatis.annotations.Insert;</span><br /><span style="color: #783f04; font-size: small;">import org.apache.ibatis.annotations.Update;</span><br /><span style="color: #783f04; font-size: small;">import org.apache.ibatis.annotations.Delete;</span><br /><span style="color: #783f04; font-size: small;">import kojh.db.beans.BoardBean;</span><br /><br /><span style="color: #783f04; font-size: small;">public interface BoardMapper</span><br /><span style="color: #783f04; font-size: small;">{</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;<span style="font-family: Arial,Helvetica,sans-serif;"> final String SELECT_PAGE =&nbsp;</span></span><br /><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SELECT * FROM ( SELECT&nbsp; ID,SUBJECT,NAME, CREATED_DATE, "+</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "MAIL,MEMO,HITS, ceil( rownum / #{rowsPerPage} ) as page "+</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; "FROM SPRING_BOARD&nbsp; ORDER BY ID DESC ) WHERE page = #{page}";</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="font-size: small;"></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><br /></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp; &nbsp; final String SELECT_BY_ID =&nbsp;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SELECT ID,SUBJECT,NAME,CREATED_DATE,MAIL,MEMO,HITS"+&nbsp;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "from SPRING_BOARD WHERE ID=#{id}";</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><br /></div><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; final String SELECT_CNT_BY_SUBJECT =&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SELECT COUNT(1) FROM SPRING_BOARD WHERE"+&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SUBJECT LIKE '%'||'${searchThis}'||'%'";</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; final String SELECT_ROWS_BY_SUBJECT =&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SELECT * FROM (SELECT ID,SUBJECT,NAME,"+</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "CREATED_DATE, MAIL,MEMO,HITS, "+</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; "ceil( rownum / #{rowsPerPage}) as page FROM SPRING_BOARD "+</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "WHERE SUBJECT LIKE '%'||'${likeThis}'||'%' ORDER BY ID DESC) "+</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "WHERE page = #{page}";</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; final String SELECT_CNT_ALL = "SELECT count(1) FROM SPRING_BOARD";</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; final String INSERT =&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "INSERT INTO SPRING_BOARD (ID,SUBJECT,NAME,CREATED_DATE,MAIL,"+</span><br /><span style="color: #783f04; font-size: small;">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; "MEMO) VALUES( SEQ_ID.NEXTVAL,#{subject}, #{name},"+</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "SYSDATE, #{mail}, #{memo})";</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; final String UPDATE_BY_ID =&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "UPDATE SPRING_BOARD SET SUBJECT= #{subject},MAIL= #{mail},"+</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "MEMO= #{memo} WHERE ID= #{id}";</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; final String DELETE_BY_ID= "DELETE FROM SPRING_BOARD WHERE ID=#{id}";</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //BoardBean 의 속성들과 동일한 이름으로 #{mail} 등을 지정해야한다.</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Select(SELECT_PAGE)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Results(value = {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="id", column="ID"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="subject", column="SUBJECT"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="name", column="NAME"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="created_date", column="CREATED_DATE"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="mail", column="MAIL"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="memo", column="MEMO"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="hits", column="HITS")</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; })</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ArrayList&lt;BoardBean&gt; getList(@Param("page") int page, @Param("rowsPerPage") int rowsPerPage);</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Select(SELECT_BY_ID)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Results(value = {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="id", column="ID"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="subject", column="SUBJECT"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="name", column="NAME"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="created_date", column="CREATED_DATE"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="mail", column="MAIL"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="memo", column="MEMO"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="hits", column="HITS")</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; })</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; BoardBean getSpecificRow(@Param("id") String id);</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // 전체 글 갯수를 조회</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Select(SELECT_CNT_ALL)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; int getTotalCnt();</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // 해당 주제의 관련글 갯수를 조회</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Select(SELECT_CNT_BY_SUBJECT)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; int getTotalCntBySubject(@Param("searchThis") String includingThis);</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //해당 주제의 관련글 조회</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Select(SELECT_ROWS_BY_SUBJECT)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Results(value = {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="id", column="ID"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="subject", column="SUBJECT"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="name", column="NAME"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="created_date", column="CREATED_DATE"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="mail", column="MAIL"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="memo", column="MEMO"),</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Result(property="hits", column="HITS")</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; })</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public ArrayList&lt;BoardBean&gt; getSearchedList(@Param("page") int page,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @Param("rowsPerPage") int rowsPerPage,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @Param("likeThis") String strSearchThis);</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Insert(INSERT)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //@Options(useGeneratedKeys = true, keyProperty = "id")</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; void insertBoard (BoardBean boardBean);</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Update(UPDATE_BY_ID)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; void updateBoard (@Param("id") int id,@Param("subject") String subject, @Param("mail") String mail,@Param("memo") String memo);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Delete(DELETE_BY_ID)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; void deleteSpecificRow(@Param("id") int id);</span><br /><span style="color: #783f04; font-size: small;">}</span><br /><br /><b style="color: #660000;">4. BoardService 생성</b><br /><br />데이터 처리를 위한 클래스를 생성한다. 원래는 DB처리를 위한 인터페이스를 정의하고 실제 사용은 그 인터페이스를 구현하는 클래스를 정의해서 처리하게 끔 권장된다. 이것은 DB 종류가 변경시 이같은 인터페이스 구현으로 처리하면, 나중에 소스 코드에 영향을 주지 않고 적용이 가능하기 대문이다. 지금은 간단하게 바로 구현 클래스로 처리하였다.<br /><br />&nbsp;&nbsp;&nbsp; <span style="color: #783f04; font-size: small;">package kojh.spring.board;</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; import java.util.ArrayList;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; import org.springframework.beans.factory.annotation.Autowired;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; import org.springframework.stereotype.Component;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; import kojh.db.beans.BoardBean;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; import kojh.spring.mappers.BoardMapper;</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Component</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public class BoardService //직접 구현함~~ 원래는 interface로 정의 하는게 좋아요~</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @Autowired</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; private BoardMapper boardMapper;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public ArrayList&lt;BoardBean&gt; getList(int nStartPage, int list_num) {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return this.boardMapper.getList(nStartPage, list_num);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public BoardBean getSpecificRow(String id) {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return this.boardMapper.getSpecificRow(id);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="font-size: small;"></span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public int getTotalCnt() {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int nCnt = 0;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; nCnt= this.boardMapper.getTotalCnt();</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return nCnt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="font-size: small;"></span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public int getTotalCntBySubject(String search) {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int nCnt = 0;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; nCnt= this.boardMapper.getTotalCntBySubject(search) ;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return nCnt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="font-size: small;"></span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public void insertBoard (BoardBean boardBean) {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; boardMapper.insertBoard(boardBean);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="font-size: small;"></span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public void updateBoard (BoardBean boardBean) {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; boardMapper.updateBoard(boardBean.getId(),&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boardBean.getSubject(), boardBean.getMail(), boardBean.getMemo());</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="font-size: small;"></span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public void deleteRow(int id)&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; this.boardMapper.deleteSpecificRow(id);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="font-size: small;"></span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; public ArrayList&lt;BoardBean&gt; getSearchedList(int nStartPage, int list_num,&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String strSearchThis)&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return this.boardMapper.getSearchedList(nStartPage, list_num, strSearchThis);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><br />보다시피 mapper로 호출을 전달하므로 MyBatis에 대한 의존성이 없다.<br /><br /><b style="color: #660000;">5. context 설정 파일에 추가</b><br />자 이제 제일 중요한 스프링 설정 시간이다.<br /><br /># servlet-context.xml 은 변경할 필요 없다.<br /># root-context.xml 을 다음으로 변경한다.<br /><br /><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&lt;beans</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xmlns="http://www.springframework.org/schema/beans"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xmlns:context="http://www.springframework.org/schema/context"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xmlns:util="http://www.springframework.org/schema/util"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xmlns:mvc="http://www.springframework.org/schema/mvc"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xmlns:p="http://www.springframework.org/schema/p"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xmlns:aop="http://www.springframework.org/schema/aop"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xmlns:tx="http://www.springframework.org/schema/tx"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><br /></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/aop/spring-aop-3.0.xsd</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/aop</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/tx</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/tx/spring-tx-3.0.xsd</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.springframework.org/schema/context/spring-context-3.0.xsd"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><br /></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; <span style="color: #6aa84f;">&lt;!-- 데이터 소스 --&gt;</span></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;bean id="dataSource"</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="driverClassName"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;value&gt;oracle.jdbc.driver.OracleDriver&lt;/value&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/property&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="url"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;value&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/value&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/property&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="username"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;value&gt;study&lt;/value&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/property&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="password"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;value&gt;study&lt;/value&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/property&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/bean&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="font-size: small;"><br /></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="dataSource" ref="dataSource" /&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- &lt;property name="configLocation" value="/WEB-INF/spring/mybatis/mybatis-config.xml"/&gt; --&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="mapperLocations"&nbsp; value="classpath:kojh/spring/board/mappers/**/*.xml" /&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/bean&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="font-size: small;"><br /></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;bean id="sqlSession" class="org.mybatis.spring.SqlSessionTemplate"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp; &lt;constructor-arg index="0" ref="sqlSessionFactory"&gt;&lt;/constructor-arg&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/bean&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="font-size: small;"><br /></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="dataSource" ref="dataSource" /&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/bean&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="font-size: small;"><br /></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tx:annotation-driven transaction-manager="transactionManager" /&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="font-size: small;"><br /></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;!-- Mapper! --&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;bean id="boardMapper" class="org.mybatis.spring.mapper.MapperFactoryBean"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="mapperInterface" value="kojh.spring.mappers.BoardMapper" /&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;property name="sqlSessionFactory" ref="sqlSessionFactory" /&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/bean&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="font-size: small;"><br /></span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;!-- BoardService --&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;bean id="boardService" class="kojh.spring.board.BoardService"&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/bean&gt;</span></div><div style="font-family: Arial,Helvetica,sans-serif;"><span style="color: #783f04; font-size: small;">&lt;/beans&gt;</span></div><br /><br /><b style="color: #660000;">6. 새로운 컨트롤러 클래스 생성</b><br />원래 Spring MVC Project 로 생성된 프로젝트는 HomeController 가 호출되어, home.jsp 뷰를 호출해서 Hello World 문자열을 찍게 되어 있다. 우리는 이것을 사용하지 않고 새로운 컨트롤러를 생성해서, 처음 게시판 화면 출력 및 기타 게시판 처리시 목록 리스트 출력에 사용할려고 한다. 새로운 컨트롤러 클래스를 생성하자. 이름은 게시판 기능을 전부 담당하는 BbsController 이다.<br /><br /><span style="color: #783f04; font-size: small;">//BbsController.java</span><br /><span style="color: #783f04; font-size: small;">package kojh.spring.board;</span><br /><br /><span style="color: #783f04; font-size: small;">import kojh.db.beans.BoardBean;</span><br /><span style="color: #783f04; font-size: small;">import org.slf4j.Logger;</span><br /><span style="color: #783f04; font-size: small;">import org.slf4j.LoggerFactory;</span><br /><span style="color: #783f04; font-size: small;">import org.springframework.beans.factory.annotation.Autowired;</span><br /><span style="color: #783f04; font-size: small;">import org.springframework.stereotype.Controller;</span><br /><span style="color: #783f04; font-size: small;">import org.springframework.ui.Model;</span><br /><span style="color: #783f04; font-size: small;">import org.springframework.web.bind.annotation.RequestMapping;</span><br /><span style="color: #783f04; font-size: small;">import org.springframework.web.bind.annotation.RequestMethod;</span><br /><span style="color: #783f04; font-size: small;">import org.springframework.web.bind.annotation.RequestParam;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">@Controller</span><br /><span style="color: #783f04; font-size: small;">public class BbsController</span><br /><span style="color: #783f04; font-size: small;">{</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @Autowired</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; BoardService boardService; </span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; private static final Logger logger = LoggerFactory.getLogger(HomeController.class);&nbsp;&nbsp;&nbsp; </span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/show_write_form", method = RequestMethod.GET)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String show_write_form( Model model)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("show_write_form called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // 객체를 전달해서 값을 얻어와야 함!!!</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("boardBeanObjToWrite", new BoardBean());</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return "writeBoard";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/DoWriteBoard", method = RequestMethod.POST)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String DoWriteBoard( BoardBean boardBeanObjToWrite,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Model model)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("DoWriteBoard called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("memo=["+boardBeanObjToWrite.getMemo()+"]");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; boardService.insertBoard(boardBeanObjToWrite);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("totalCnt", new Integer(boardService.getTotalCnt()) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("current_page", "1" ); //글을 작성후에는 처음 페이지로 돌아간다</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("boardList", boardService.getList( 1, 2));</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return "listSpecificPage";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //개별 목록 조회</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/viewWork", method = RequestMethod.GET)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String viewWork&nbsp;&nbsp;&nbsp; (</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @RequestParam("memo_id") String memo_id,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @RequestParam("current_page") String current_page,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @RequestParam("searchStr") String searchStr,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Model model</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; )</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("viewWork called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("memo_id=["+ memo_id+"] current_page=["+current_page+</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "] searchStr=["+searchStr+"]");</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("memo_id", memo_id );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("current_page", current_page );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("searchStr", searchStr );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("boardData", boardService.getSpecificRow(memo_id) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return "viewMemo";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // 특정 페이지에서 작업중 목록으로 나올경우, 이전 페이지 번호를 참조해서&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // 해당 페이지 출력</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/listSpecificPageWork", method = RequestMethod.GET)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String listSpecificPageWork&nbsp;&nbsp;&nbsp; (</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @RequestParam("current_page") String pageForView,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Model model</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; )</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("listSpecificPageWork called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("current_page=["+pageForView+"]");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("totalCnt", new Integer(boardService.getTotalCnt()) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("current_page", pageForView );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("boardList", boardService.getList( Integer.parseInt(pageForView), 2));</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return "listSpecificPage";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // 특정 페이지 수정을 위한 내용 출력</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/listSpecificPageWork_to_update", method = RequestMethod.GET)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String listSpecificPageWork_to_update&nbsp;&nbsp;&nbsp; (</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @RequestParam("memo_id") String memo_id,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @RequestParam("current_page") String current_page,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Model model</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; )</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("listSpecificPageWork_to_update called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("memo_id=["+ memo_id+"] current_page=["+current_page+"]");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("memo_id", memo_id );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("current_page", current_page );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("boardData", boardService.getSpecificRow(memo_id) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return "viewMemoForUpdate";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //개별 row 업데이트</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/DoUpdateBoard", method = RequestMethod.POST)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String DoUpdateBoard(</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BoardBean boardBeanObjToUpdate,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @RequestParam("memo_id") int memo_id, //String,int 둘다 작동됨</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @RequestParam("current_page") String current_page,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Model model)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("DoUpdateBoard called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("listSpecificPageWork_to_update called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //boardBeanObjToUpdate.getId() 가 0이다! 값을 설정하지 않았기 때문이다. 대신,memo_id 를 이용하자</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("memo_id=["+ memo_id+""+"/"+boardBeanObjToUpdate.getId()+"] current_page=["+current_page+"]");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("memo=["+boardBeanObjToUpdate.getMemo()+"]");</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; boardBeanObjToUpdate.setId(memo_id); // 약간의 꼼수...</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; boardService.updateBoard(&nbsp;&nbsp;&nbsp; boardBeanObjToUpdate&nbsp;&nbsp;&nbsp; );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("totalCnt", new Integer(boardService.getTotalCnt()) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("current_page", current_page );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("boardList", boardService.getList( Integer.parseInt(current_page), 2));</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return "listSpecificPage";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // 삭제 DeleteSpecificRow</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/DeleteSpecificRow", method = RequestMethod.GET)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String DeleteSpecificRow(@RequestParam("memo_id") int memo_id,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @RequestParam("current_page") String current_page,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Model model)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("DeleteSpecificRow called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("memo_id=[" + memo_id + "] current_page=[" + current_page + "]");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; boardService.deleteRow(memo_id);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //다시 페이지를 조회한다.</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("totalCnt", new Integer(boardService.getTotalCnt()) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("current_page", current_page);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("boardList", boardService.getList( Integer.parseInt(current_page), 2));</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return "listSpecificPage";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/searchWithSubject", method = RequestMethod.POST)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String searchWithSubject&nbsp;&nbsp;&nbsp; (&nbsp;&nbsp;&nbsp; @RequestParam("searchStr") String searchStr,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Model model&nbsp;&nbsp;&nbsp; )</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; //redirection...</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return listSearchedSpecificPageWork("1", searchStr, model);//처음에는 1 페이지만 보여줌</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; ////////////////////////////////////////////////////////////////////////////////////////////////////</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // 검색된 상태에서 특정 페이지로 이동하기</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; @RequestMapping(value = "/listSearchedSpecificPageWork", method = RequestMethod.GET)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public String listSearchedSpecificPageWork&nbsp;&nbsp;&nbsp; (&nbsp;&nbsp;&nbsp; @RequestParam("pageForView") String pageForView,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; @RequestParam("searchStr") String searchStr,</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Model model )</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("listSearchedSpecificPageWork called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("pageForView=["+pageForView+"]");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("searchStr=["+searchStr+"]");</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("totalCnt", new Integer( boardService.getTotalCntBySubject(searchStr) ) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("searchedList",&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boardService.getSearchedList(Integer.parseInt(pageForView),2, searchStr) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("pageForView", Integer.parseInt(pageForView) );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; model.addAttribute("searchStr", searchStr );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return "listSearchedPage";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">}</span><br /><br /><b style="color: #660000;">7. 유틸 클래스 정의</b><br />페이지 설정 로직을 위한 별도 클래스를 정의해 보았다. 지금은 별로 하는일이 없지만, 나중에 기능이 추가되서 게시판 목록 블럭 처리등에 활용할수 있겠다..<br /><br /><span style="color: #783f04; font-size: small;">//PageNumberingManager.java</span><br /><span style="color: #783f04; font-size: small;">package kojh.spring.board;</span><br /><span style="color: #783f04; font-size: small;">import org.slf4j.Logger;</span><br /><span style="color: #783f04; font-size: small;">import org.slf4j.LoggerFactory;</span><br /><br /><span style="color: #783f04; font-size: small;">public class PageNumberingManager</span><br /><span style="color: #783f04; font-size: small;">{</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; private static final PageNumberingManager pageNumberingManager =&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new PageNumberingManager();</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; private static final Logger logger =&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LoggerFactory.getLogger(PageNumberingManager.class);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; private PageNumberingManager()&nbsp;&nbsp;&nbsp; { }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public&nbsp; static PageNumberingManager getInstance()</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return pageNumberingManager ;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public int getTotalPage(int total_cnt, int rowsPerPage)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("getTotalPage called!!");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int total_pages = 0;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if ((total_cnt % rowsPerPage) == 0)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; total_pages = total_cnt / rowsPerPage;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; total_pages = (total_cnt / rowsPerPage) + 1;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; logger.info("getTotalPage return total_pages="+total_pages);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return total_pages;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //게시판의 block처리 추가 필요 (이전/다음 블럭 버튼 처리)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public int getPageBlock(int curPage, int pagePerBlock)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int block = 0;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if ((curPage % pagePerBlock) == 0)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; block = curPage / pagePerBlock;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; block = curPage / pagePerBlock + 1;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return block;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // block 에 속한 첫번째 페이지 계산</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public int getFirstPageInBlock(int block, int pagePerBlock)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return ( ( block - 1 ) * pagePerBlock + 1 ) ;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; // block 에 속한 마지막 페이지 계산</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; public int getLastPageInBlock(int block, int pagePerBlock)</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return ( block * pagePerBlock);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; //... 기타 등등...</span><br /><span style="color: #783f04; font-size: small;">}</span><br /><br /><b style="color: #660000;">8. 출력되는 뷰를 구현한다</b><br />게시판 화면처리에서는 잘 알다시피 페이지 개념이 있는데, 하나의 페이지에는 여러개의 글들이 포함하게 된다. <span style="background-color: #fff2cc;">특정 페이지를 출력하는 기능을 담당하는 뷰를 정의한다.</span> 간단한 예제 작성이 목적이라는 핑계로 글 목록 블럭 처리기능은 구현되지 않았다...<br /><br /><span style="color: #783f04; font-size: small;">//listSpecificPage.jsp</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page language="java" contentType="text/html; charset=EUC-KR" pageEncoding="EUC-KR"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt; </span><br /><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="s" uri="http://www.springframework.org/tags"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page session="false" %&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="kojh.db.beans.BoardBean"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.util.ArrayList"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.util.Properties"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.io.IOException"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.io.FileInputStream"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="kojh.spring.board.PageNumberingManager"%&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;html&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;head&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;title&gt;목록&lt;/title&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/head&gt;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&lt;c:set var="current_page" value="${current_page}" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;c:set var="total_cnt" value="${totalCnt}" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; int c_page = Integer.parseInt( (String)&nbsp; (pageContext.getAttribute("current_page") ))&nbsp; ;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; pageContext.setAttribute("c_page",c_page);</span><br /><span style="color: #783f04; font-size: small;">%&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;table cellspacing=1 width=700 border=0&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;총 게시물수: &lt;c:out value="${totalCnt}"/&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;p align=right&gt; 페이지:&lt;c:out value="${current_page}"/&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;table cellspacing=1 width=700 border=1&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=50&gt;&lt;p align=center&gt;번호&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;이름&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=320&gt;&lt;p align=center&gt;제목&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;등록일&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;조회수&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;c:forEach var="board" items="${boardList}"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=50&gt;&lt;p align=center&gt;${board.getId()}&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;${board.getName()}&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=320&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p align=center&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href="/SpringMvcBoardMyBatis/viewWork?memo_id=${board.getId()}&amp;current_page=&lt;c:out value="${current_page}"/&gt;&amp;searchStr=None" title="${board.getMemo()}"&gt;&lt;c:out value="${board.getSubject()}"/&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;c:out value="${board.getCreated_date()}"/&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;c:out value="${board.getHits()}"/&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/c:forEach&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;%</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int rowsPerPage = 2;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int total_cnt = ((Integer)(pageContext.getAttribute("total_cnt"))).intValue()&nbsp; ;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //전체 페이지</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int total_pages = PageNumberingManager.getInstance().getTotalPage(total_cnt, rowsPerPage) ;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pageContext.setAttribute("t_pages",total_pages);</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; %&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;table cellspacing=1 width=700 border=1 &gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c:forEach var="i" begin="1" end="${t_pages}"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href="/SpringMvcBoardMyBatis/listSpecificPageWork?current_page=${i}" &gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c:if test="${i == c_page}" &gt; &lt;b&gt; &lt;/c:if&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ${i}</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c:if test="${i == c_page}" &gt; &lt;/b&gt; &lt;/c:if&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/c:forEach&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&lt;table width=700&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;input type=button value="글쓰기"&nbsp; OnClick="window.location='/SpringMvcBoardMyBatis/show_write_form'"&gt;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;form name=searchf method=post action="/SpringMvcBoardMyBatis/searchWithSubject"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p align=right&gt;&lt;input type=text name=searchStr size=50&nbsp; maxlength=50&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=submit value="글찾기"&gt;&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/html&gt;</span><br /><br /><div style="background-color: #fff2cc;">다음은 리스트에서 선택시, 글 내용을 보여주는 화면이다.</div><span style="color: #783f04; font-size: small;">// viewMemo.jsp</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page language="java" contentType="text/html; charset=EUC-KR" pageEncoding="EUC-KR"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;c:set var="str_aid" value="${memo_id}" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;c:set var="str_c_page" value="${current_page}" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;c:set var="searchString" value="${searchStr}" /&gt;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&lt;html&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;head&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;title&gt;글보기&lt;/title&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/head&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; String searchString = (String)&nbsp; (pageContext.getAttribute("searchString"))&nbsp; ;</span><br /><span style="color: #783f04; font-size: small;">%&gt;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&lt;script language="javascript"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; function boardlist()</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; var s = "&lt;%=searchString%&gt;";</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if(s=="None")</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; location.href = '/SpringMvcBoardMyBatis/listSpecificPageWork?current_page=${current_page}';</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; location.href = '/SpringMvcBoardMyBatis/listSearchedSpecificPageWork?pageForView=${current_page}&amp;searchStr=${searchStr}';</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; function boardmodify()</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; location.href='/SpringMvcBoardMyBatis/listSpecificPageWork_to_update?memo_id=${memo_id}&amp;current_page=${current_page}';</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; function boarddelete()</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; location.href='/SpringMvcBoardMyBatis/DeleteSpecificRow?memo_id=${memo_id}&amp;current_page=${current_page}';</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&lt;/script&gt;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&lt;table cellspacing = 0 cellpadding = 5 border = 1 width=500&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;조회수&lt;/b&gt;&lt;/td&gt;&lt;td&gt; &lt;c:out value="${boardData.getHits()}"/&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;이름 &lt;/b&gt;&lt;/td&gt;&lt;td&gt; &lt;c:out value="${boardData.getName()}"/&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;이메일 &lt;/b&gt;&lt;/td&gt;&lt;td&gt; &lt;c:out value="${boardData.getMail()}"/&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;제목 &lt;/b&gt;&lt;/td&gt;&lt;td&gt; &lt;c:out value="${boardData.getSubject()}"/&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;내용 &lt;/b&gt;&lt;/td&gt;&lt;td width=350&gt; &lt;c:out value="${boardData.getMemo()}"/&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;table&nbsp; cellspacing = 0 cellpadding = 0 border = 0 width=500&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;&lt;td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=button value="수정" OnClick="javascript:boardmodify()"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=button value="목록" OnClick="javascript:boardlist()"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=button value="삭제" OnClick="javascript:boarddelete()"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/html&gt;</span><br /><div style="background-color: #fff2cc;"><br /><span style="font-size: small;">다음은 글작성시 사용되는 화면이다.</span></div><span style="color: #783f04; font-size: small;">//writeBoard.jsp</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;%@ page language="java" import="java.util.*, java.sql.*, javax.servlet.http.*"</span><br /><span style="color: #783f04; font-size: small;">contentType="text/html; charset=EUC-KR"&nbsp; pageEncoding="EUC-KR"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.io.*, java.text.*" %&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="sf" uri="http://www.springframework.org/tags/form"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;html&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;head&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;meta http-equiv="Content-Type" content="text/html; charset=EUC-KR"&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;title&gt;게시판 글쓰기&lt;/title&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/head&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;c:url var="insertUrl" value="/DoWriteBoard" /&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;sf:form modelAttribute="boardBeanObjToWrite" method="POST" action="${insertUrl}"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;table width=400 border=1 cellspacing=0 cellpadding=5&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;b&gt;이름&lt;/b&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;sf:input path="name" size="50" maxlength="50"/&gt;&lt;br /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;sf:errors&nbsp;&nbsp;&nbsp; path="name" cssClass="error" /&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;b&gt;이메일&lt;/b&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;sf:input path="mail" size="50" maxlength="50"/&gt;&lt;br /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;sf:errors&nbsp;&nbsp;&nbsp; path="mail" cssClass="error" /&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;b&gt;제목&lt;/b&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;sf:input path="subject" size="50" maxlength="50"/&gt;&lt;br /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;sf:errors&nbsp;&nbsp;&nbsp; path="subject" cssClass="error" /&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;b&gt;내용&lt;/b&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;sf:textarea&nbsp; path="memo" size="200" cssStyle="width:350px;height:100px;" maxlength="200"/&gt;&lt;br /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;sf:errors&nbsp;&nbsp;&nbsp; path="memo" cssClass="error" /&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;input type="submit" value="등록" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/table&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/sf:form&gt;</span><br /><div style="background-color: #fff2cc;"><br /><span style="font-size: small;">다음은 글 수정시에 사용되는 화면이다.</span></div><span style="font-size: small;">BoardBean 객체로 내용을 전달하는데, 이때 id와 현재 페이지등의 부가 정보를 넘기기 위해 hidden 항목을 사용했다. 아마 좀더 좋은 방법이 있을거 같다.</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">//viewMemoForUpdate.jsp</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page language="java" contentType="text/html; charset=EUC-KR"&nbsp; pageEncoding="EUC-KR"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="sf" uri="http://www.springframework.org/tags/form"%&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;html&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;head&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;script language="javascript"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; function writeCheck()</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var form = document.modifyform;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( !form.dbsubject.value )</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert( "제목을 적어주세요" );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; form.dbsubject.focus();</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( !form.dbmemo.value )</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert( "내용을 적어주세요" );</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; form.dbmemo.focus();</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; form.submit();</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; function boardlist()</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; location.href = '/SpringMvcBoardMyBatis/listSpecificPageWork?current_page=${current_page}';</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="color: #783f04; font-size: small;">&lt;/script&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;title&gt;글보기&lt;/title&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/head&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;c:url var="updateUrl" value="/DoUpdateBoard" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;sf:form modelAttribute="boardData" method="POST" action="${updateUrl}"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;table width=400 border=1 cellspacing=0 cellpadding=5&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;%-- modelAttribute 로 데이터를 넘기는데, 추가적인 정보를 넘기기 위해서 hidden field를 사용함 --%&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=hidden name="memo_id"&nbsp; value="${memo_id}"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=hidden name="current_page"&nbsp; value="${current_page}"&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;b&gt;이름&lt;/b&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;%-- 이름은 read only 처리--%&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;sf:input readonly="true" path="name" size="50" maxlength="50" /&gt;&lt;br /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;sf:errors&nbsp; path="name" cssClass="error" /&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;b&gt;이메일&lt;/b&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;sf:input path="mail" size="50" maxlength="50"/&gt;&lt;br /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;sf:errors&nbsp; path="mail" cssClass="error" /&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;b&gt;제목&lt;/b&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;sf:input path="subject" size="50" maxlength="50"/&gt;&lt;br /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;sf:errors&nbsp; path="subject" cssClass="error" /&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;b&gt;내용&lt;/b&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;sf:textarea&nbsp; path="memo" size="200" cssStyle="width:350px;height:100px;" maxlength="200"/&gt;&lt;br /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;sf:errors&nbsp; path="memo" cssClass="error" /&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/table&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;table&nbsp; cellspacing = 0 cellpadding = 0 border = 0 width=500&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt; &lt;input type="submit" value="재등록" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type=button value="목록" OnClick="javascript:boardlist()"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/table&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/sf:form&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/html&gt;</span><br /><br /><span style="font-size: small;"></span><br /><div style="background-color: #fff2cc;"><br /><span style="font-size: small;">마지막으로 검색시에 리스트를 출력하는 화면이다.</span></div><span style="color: #783f04; font-size: small;">//listSearchedPage.jsp</span><br /><span style="font-size: small;"><br /></span><span style="color: #783f04; font-size: small;">&lt;%@ page language="java" contentType="text/html; charset=EUC-KR" pageEncoding="EUC-KR"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ taglib prefix="s" uri="http://www.springframework.org/tags"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page session="false" %&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="kojh.db.beans.BoardBean"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.util.ArrayList"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.util.Properties"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.io.IOException"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="java.io.FileInputStream"%&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%@ page import="kojh.spring.board.PageNumberingManager"%&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;html&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;head&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;title&gt;목록&lt;/title&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/head&gt;</span><br /><span style="font-size: small;"></span><br /><span style="font-size: small;"></span><br /><span style="color: #783f04; font-size: small;">&lt;c:set var="total_cnt" value="${totalCnt}" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;c:set var="searchString" value="${searchStr}" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;c:set var="pageForView" value="${pageForView}" /&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;%</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; int total_cnt = ((Integer)(pageContext.getAttribute("total_cnt"))).intValue()&nbsp; ;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; String searchStr =(String) pageContext.getAttribute("searchString");</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; int rowsPerPage = 2;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; int total_pages = PageNumberingManager.getInstance().getTotalPage(total_cnt, rowsPerPage) ;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; pageContext.setAttribute("t_pages",total_pages);</span><br /><span style="color: #783f04; font-size: small;">%&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;table cellspacing=1 width=700 border=0&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;총 게시물수: &lt;c:out value="${totalCnt}"/&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;p align=right&gt; 페이지:&lt;c:out value="${t_pages}"/&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;table cellspacing=1 width=700 border=1&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=50&gt;&lt;p align=center&gt;번호&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;이름&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=320&gt;&lt;p align=center&gt;제목&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;등록일&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;조회수&lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;c:forEach var="board" items="${searchedList}"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=50&gt;&lt;p align=center&gt;${board.getId()}&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;${board.getName()}&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=320&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p align=center&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href="/SpringMvcBoardMyBatis/viewWork?memo_id=${board.getId()}&amp;current_page=${pageForView}&amp;searchStr=${searchStr}" title="${board.getMemo()}"&gt;&lt;c:out value="${board.getSubject()}"/&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/p&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;c:out value="${board.getCreated_date()}"/&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;c:out value="${board.getHits()}"/&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/c:forEach&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><br /><span style="color: #783f04; font-size: small;">&lt;table cellspacing=1 width=700 border=1 &gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c:forEach var="i" begin="1" end="${t_pages}"&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href="/SpringMvcBoardMyBatis/listSearchedSpecificPageWork?pageForView=${i}&amp;searchStr=&lt;c:out value="${searchStr}"/&gt;" &gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c:if test="${i == pageForView}" &gt; &lt;b&gt; &lt;/c:if&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ${i}</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c:if test="${i == pageForView}" &gt; &lt;/b&gt; &lt;/c:if&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/c:forEach&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;table width=700&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;input type=button value="전체 목록으로 돌아가기"&nbsp; OnClick="window.location='/SpringMvcBoardMyBatis/'"&gt;&nbsp;&nbsp;&nbsp; &lt;/td&gt;</span><br /><span style="color: #783f04; font-size: small;">&nbsp;&nbsp;&nbsp; &lt;/tr&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/table&gt;</span><br /><span style="color: #783f04; font-size: small;">&lt;/html&gt;</span><br /><div style="background-color: #fff2cc;"><br /><b>이 프로젝트의 소스는 다음 위치에 있으니 참조하시길 바란다.</b></div><b><a href="https://github.com/jeremyko/SpringMvcBoardMyBatis">https://github.com/jeremyko/SpringMvcBoardMyBatis</a></b><br /><br /><br />