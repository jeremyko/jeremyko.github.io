---
layout: post
title: Member Function Pointers 활용
date: '2009-10-20T17:55:00.000+09:00'
author: jeremyko
tags:
- cpp
- Member Function Pointers
modified_time: '2016-09-09T17:52:19.014+09:00'
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-8197493198030544601
blogger_orig_url: https://jeremyko.blogspot.com/2009/10/member-function-pointers.html
---

<br /><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Verdana, arial, helvetica, sans-serif;">어떤 변수의 값에 따라서 클래스 멤버함수를 각각 호출해야하는&nbsp;</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Verdana, arial, helvetica, sans-serif;">상황이라면, 아마 다음처럼 코딩을 하게 될것이다.</span></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: #d0ff9d; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; padding-bottom: 10px; padding-left: 10px; padding-right: 10px; padding-top: 10px; text-align: left;"><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">SomeClass::SomeMethod( int Somevalue&nbsp; )</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">{</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;...</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;if( 0 == Somevalue )</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;{</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;memFunc_01( SomeArg ) ; // 입력인자 SomeArg 로 멤버함수1 호출</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;}</span></div><div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;else if( 1 == Somevalue )</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;{</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;memFunc_02( SomeArg ) ; // 입력인자 SomeArg 로 멤버함수2 호출</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;}</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;... 생략</span></div><div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;else if( 9 == Somevalue )</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;{</span></div><div><span class="Apple-tab-span" style="white-space: pre;"><span style="font-family: Verdana, arial, helvetica, sans-serif;"> </span></span><span style="font-family: Verdana, arial, helvetica, sans-serif;">memFunc_10( SomeArg ) ; // 입력인자 SomeArg 로 멤버함수10 호출</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;}</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;...</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">}</span></div></div></div></div><div style="background-color: white; color: #555555; font-family: arial, helvetica, sans-serif; font-size: 12px; line-height: 18px; text-align: left;"><div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">혹은 다른 방법(switch..case)을 이용할수 있다.</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">하지만 클래스 멤버 함수 포인터를 활용하면, 계속 반복되는 비교문을 없애고</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">효율적인 코드 작성이 가능하다.</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div style="background-color: #c9edff; padding-bottom: 10px; padding-left: 10px; padding-right: 10px; padding-top: 10px;"><div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">SomeClass::SomeMethod(int Somevalue )</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">{ &nbsp; &nbsp;...</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;// fPAryMemFunc 라는 멤버함수 포인터 배열을 선언한다.</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;// 사용시에 1번만 초기화 된다</span></div></div><div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;static BOOL( SomeClass::* fPAryMemFunc[] )( SomeArg ) =</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;{</span><span class="Apple-tab-span" style="white-space: pre;"><span style="font-family: Verdana, arial, helvetica, sans-serif;"> </span></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&amp; SomeClass:: memFunc_01,</span><span class="Apple-tab-span" style="white-space: pre;"><span style="font-family: Verdana, arial, helvetica, sans-serif;">    </span></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&amp; SomeClass:: memFunc_02,</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&amp; SomeClass:: memFunc_03,</span><span class="Apple-tab-span" style="white-space: pre;"><span style="font-family: Verdana, arial, helvetica, sans-serif;">    </span></span><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;...</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&amp; SomeClass:: memFunc_10</span><span class="Apple-tab-span" style="white-space: pre;"><span style="font-family: Verdana, arial, helvetica, sans-serif;">    </span></span><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;}</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;//실제 멤버 함수 호출시에는 다음처럼 한다.</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">&nbsp;&nbsp; &nbsp;(this-&gt;* fPAryMemFunc[ Somevalue ]) (SomeArg ); &nbsp; &nbsp;</span></div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;">}</span></div></div></div><div><div><span style="font-family: Verdana, arial, helvetica, sans-serif;"><br /></span></div><div>이걸 채팅서버에 적용해봤는데 , 클라이언트의 요청이 들어오면</div><div><br /></div><div>헤더의 사용목적을 보고 일일이 구분 처리하는게 아니고</div><div><br /></div><div>헤더의 메시지 용도에 배열의 인덱스를 저장하게 하고</div><div><br /></div><div>바로 해당 인덱스의 멤버 함수를 호출하게 하는것이다.</div></div></div></div>