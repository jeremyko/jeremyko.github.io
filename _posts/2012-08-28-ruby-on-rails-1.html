---
layout: post
title: 'Ruby on Rails 간단 게시판 '
date: '2012-08-28T16:59:00.000+09:00'
author: jeremyko
tags:
- Ruby on Rails
- 게시판
modified_time: '2012-09-04T18:05:55.897+09:00'
thumbnail: http://2.bp.blogspot.com/-DysKmMc5jH0/UDx1yOdsJ1I/AAAAAAAAA5U/EBMEAh3zu94/s72-c/1.jpg
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-6780179456494406193
blogger_orig_url: https://jeremyko.blogspot.com/2012/08/ruby-on-rails-1.html
---

<br />(rails 에 관심있는 새내기에 의한, 새내기를 위한 글 입니다~~).<br /><br />요즘 취미로 Ruby on Rails 에 대해 공부하고 있는데,&nbsp;간단한 게시판 예제를 작성 해보자.<br /><br />이 예제의 소스는 여기서 받을수 있다.<br /><a href="https://github.com/jeremyko/RailsBoardSample" target="_blank">https://github.com/jeremyko/RailsBoardSample</a><br /><br />여기서 만들 게시판은 앞서 <a href="http://jeremyko.blogspot.kr/2012/07/mybatis-spring-mapper-interface.html" target="_blank"><b>spring</b></a>, <a href="http://jeremyko.blogspot.kr/2012/08/django-1.html" target="_blank"><b>django 에서 예제로 만든것</b></a>&nbsp;과 동일한 기능의 게시판이다.&nbsp;간단한 기능을 가진 게시판이라서, Rails가 제공해주는 scaffolding 을 사용하면 10분 이내로도&nbsp;작성이 가능할 수 있지만, 이 예제에서는 scaffolding 을 사용하지 않고 처음부터 작성하는것으로 한다.&nbsp;그리고 Rails 에서 가능한 여러 기능들 즉, RSpec을 사용한 BDD, REST지원, validation check,&nbsp;coffee script, 뷰에서의 partial 등은 일단 간단 게시판을 먼저 작성한후, <a href="http://jeremyko.blogspot.kr/2012/09/ruby-on-rails-rails.html" target="_blank"><span style="background-color: #fff2cc; color: #660000;">향후 포스팅</span></a>을 통해서 점차 적용시켜보도록 할것이다.<br /><br />rails와 ruby 개발 환경은 완료된 상태라고 가정한다.<br />이 예제에서의 사용된 개발환경은 다음과 같다.<br /><span style="color: #134f5c;"><b>ruby 1.9.3p194 (2012-04-20) [i386-mingw32]</b></span><br /><span style="color: #134f5c;"><b>Rails 3.2.8</b></span><br /><br />그리고 사용할 DB는 기본 Sqlite 로 하기로 한다.<br />만약, Oracle 사용시에는 그에 따른 약간의 소스 코드 수정이 필요한데, 그것은 주석으로 표시하였다.<br /><br /><a name='more'></a><br /><br /><span style="background-color: #fff2cc;"><span style="color: #660000;"><b>* rails application 생성</b></span></span><br /><br />적정한 폴더상에서 다음 명령을 수행해서 새로운 rails application을 생성한다.<br /><br /><span style="color: #134f5c;"><b>rails new RailsBoard</b></span><br /><br />rails는 디렉토리 구조를 생성하고, 자동적으로 bundle install 명령을 수행하여<br />필요한 gem들을 설치한다.<br /><br /><span style="background-color: #fff2cc;"><span style="color: #660000;"><b>* Gemfile 및 database.yml</b></span></span><br /><br />이 예제에서는 그냥 sqlite3 을 사용할것이므로 특별히 수정할 필요가 없다.<br /><br />그런데, 만약 oracle을 사용하고 싶다면, 다음을 참고해서 두 파일의 내용을 변경하기 바란다.<br /><a href="http://jeremyko.blogspot.kr/2012/08/windows-ruby-on-rails-ror-oracle-xe-11g.html" target="_blank">http://jeremyko.blogspot.kr/2012/08/windows-ruby-on-rails-ror-oracle-xe-11g.html</a><br /><br /><br /><span style="background-color: #fff2cc;"><span style="color: #660000;"><b>* 컨트롤러 및 뷰 작성</b></span></span><br /><br />Rails의 MVC pattern의 흐름을 간단하게 살펴보면,<br /><br />1. 브라우져의 요청은 rails에 의해 특정 컨트롤러의 메서드로 route 되어진다.<br /><br />2. 해당 컨트롤러에서는 요청을 모델로 전달한다.<br /><br />3. 해당 모델은 요청에 따라 데이터베이스에 대한 작업(조회,생성,변경,삭제등)을 수행하고,<br />&nbsp; &nbsp;필요한 경우 데이터를 리턴한다.( 예를 들어서 조회)<br /><br />4. 컨트롤러는 모델로부터 데이터를 받아서 .html.erb의 확장자를 가지는 뷰로 전달한다.<br /><br />5. 해당 뷰에서는 erb(embedded ruby)를 이용해서 html 형식으로 렌더링한후, 컨트롤러로 리턴한다.<br /><br />6. 컨트롤러는 이 html결과를 클라이언트(브라우져)에게 돌려주게 된다.<br /><br />만약 컨트롤러의 메서드에서 아무런 작업을 하지 않는 경우라면 어떻게 처리가 될까?<br />그렇더라도 연관된 해당 뷰는 항상 호출이 된다 (즉 이런 경우는 정적인 페이지 처리가 된다).<br /><br />간단한 예제를 빨리 만들어보기 위해서, 이 예제에서는 여러개의 컨트롤러를 사용하지는 않을 것이다.&nbsp;게시판 기능을 위한 BoardController 하나를 작성하고 그 내부에는 게시판 기능에 대한&nbsp;요청을 처리할 메서드를 정의할것이다.(이 메서드를 action 이라고도 한다).<br /><br />게시판 기능을 위한 컨트롤러를 board라고 하고, 처음 화면을 위한 action은 index 라고 한다면,&nbsp;rails g (generate) 명령을 사용하여,&nbsp;컨트롤러 및 액션, 뷰까지 한번에 생성 가능하다.<br /><br /><span style="color: #134f5c;"><b>rails g controller board index</b></span><br /><br />board 컨트롤러를 생성하면서, index Action(메서드)도 같이 생성했다.<br />그럼 동시에, 이에 대한 뷰도 자동으로 생성이 되는데, 바로 RailsBoard\app\views\board\index.html.erb 이다.<br />뷰의 이름은 action의 이름과 동일하게 생성이 된다. erb 는 embedded ruby 를 나타낸다.<br /><br /><span style="background-color: #fff2cc;"><b><span style="color: #660000;">* route 지정</span></b></span><br /><br />RailsBoard\config\routes.rb 에 방금 추가한 컨트롤러,action을 url에 mapping 해줘야 한다.<br /><br />먼저 route.rb 에서 get "board/index" 는 주석 처리한다.<br /><span style="color: #134f5c;"><b># get "board/index"</b></span><br /><br />그리고 root :to =&gt;... 부분을 다음처럼 수정한다.<br /><span style="color: #134f5c;"><b>root :to =&gt; 'board#index'</b></span><br /><br />이제 사이트의 root가 board 컨트롤러의 index action으로 설정이 되었다.<br /><br /><br /><span style="background-color: #fff2cc;"><span style="color: #660000;"><b>* Model 작성</b></span></span><br /><br />다음에 해야할일은 데이터베이스 작업을 위한 모델을 정의하는 것이다.<br />게시판 데이터를 저장하기 위해서 먼저 생각해본 스키마는 다음과 같다.<br />(이번에도, 간단한 예제작성을 위해 테이블 하나만 사용하기로 한다)<br /><br />"SUBJECT" : 제목 (text)<br />"NAME" : 이름 (text)<br />"MAIL" : 메일 (text)<br />"MEMO" : 게시물 내용 (text)<br />"HITS" : 조회수 (integer)<br /><br />이 스키마를 기초로, 모델을 생성하기 위해 다음을 수행한다.<br /><br /><span style="color: #134f5c;"><b>rails g model MyRailsBoardRow subject:string name:string mail:string memo:string hits:integer</b></span><br /><br />성공적으로 수행이 되면, 그 결과로 \RailsBoard\db\migrate 폴더 및 폴더 내부에는 migration 파일이 생성된다.&nbsp;(실제 DB 생성/변경이 발생하는것은 아니다)<br /><br /><span style="color: #134f5c;">class CreateMyRailsBoardRows &lt; ActiveRecord::Migration</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; def change</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;create_table :my_rails_board_rows do |t|</span><br /><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;"> </span>&nbsp; &nbsp;&nbsp;t.string :subject</span><br /><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;"> </span>&nbsp; &nbsp; t.string :name</span><br /><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;"> </span>&nbsp; &nbsp; t.string :mail</span><br /><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;"> </span>&nbsp; &nbsp; t.string :memo</span><br /><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;"> </span>&nbsp; &nbsp; t.integer :hits</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;"> </span>&nbsp; &nbsp; t.timestamps</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;end</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">end</span><br /><br />이처럼, DB구조에 변경이 발생할때마다 migration파일을 먼저 생성해야 한다.<br />이를 통해 우리는 DB를 점진적으로 변경할수 있게 된다. 아울러 변경 이력도 관리 가능하다.<br /><br />흥미로운 것은 Rails가 만들어준 이름이다. 모델 이름을 단수(MyRailsBoardRow)로 정의했는데,&nbsp;Rails에서는 이것을 복수(CreateMyRailsBoardRows)로 자동으로 변환해서<br />테이블 생성 메서드를 정의해 준다. 곰곰 생각해보면 이러한 명명법이 말이 된다.<br />데이터베이스는 집합이므로 즉 복수.. 내가 생성한 모델은 그 집합을 이루는 각각의 요소 하나, 즉 단수..<br /><br />이제, 이 마이그레이션을 실제 DB에 반영하기 위해서는 다음 명령을 수행한다.<br /><br /><b><span style="color: #134f5c;">bundle exec rake db:migrate</span></b><br /><br />성공적으로 수행이 되었다면, 실제 생성된 테이블은 다음과 같다.<br /><br /># SQLITE3 경우<br />CREATE TABLE "my_rails_board_rows"<br />("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,<br />"subject" varchar(255),<br />"name" varchar(255),<br />"mail" varchar(255),<br />"memo" varchar(255),<br />"hits" integer,<br />"created_at" datetime NOT NULL,<br />"updated_at" datetime NOT NULL);<br /><br /># 오라클 경우<br />CREATE TABLE &nbsp;"MY_RAILS_BOARD_ROWS"<br />(<span class="Apple-tab-span" style="white-space: pre;"> </span>"ID" NUMBER(38,0) NOT NULL ENABLE,<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>"SUBJECT" VARCHAR2(255 CHAR),<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>"NAME" VARCHAR2(255 CHAR),<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>"MAIL" VARCHAR2(255 CHAR),<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>"MEMO" VARCHAR2(255 CHAR),<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>"HITS" NUMBER(38,0),<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>"CREATED_AT" DATE NOT NULL ENABLE,<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>"UPDATED_AT" DATE NOT NULL ENABLE,<br />&nbsp;<span class="Apple-tab-span" style="white-space: pre;"> </span>PRIMARY KEY ("ID") ENABLE <span class="Apple-tab-span" style="white-space: pre;"> </span>) ;<br /><br />실제로 테이블이 생성되었는지 확인해 본다.<br /><br /><span style="background-color: #fff2cc;"><b><span style="color: #660000;">* 컨트롤러 구현</span></b></span><br /><br />이제 생성된 컨트롤러에 action을 구현해야 할 차례이다.<br /><br />먼저 좀 해줘야 할 것이 있는데,컨트롤러들에서 사용할 rowsPerPage 전역 변수를 위해<br />\RailsBoard\app\controllers\application_controller.rb 파일에 다음처럼 추가한다.<br /><br /><span style="color: #134f5c;">class ApplicationController &lt; ActionController::Base</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; protect_from_forgery</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # rowsPerPage 한 페이지당 표시될 게시물 수</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # 모든 컨트롤러에서 사용가능하게 여기에 정의한다.</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; def rowsPerPage</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @rowsPerPage ||= 2</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">end</span><br /><br />그리고, 게시물의 페이지처리라던지, 웹페이지의 타이틀 변경같은 몇몇 공통기능 구현을 위해서&nbsp;ApplicationHelper module에 정의할것이 있다.<br />\RailsBoard\app\helpers\application_helper.rb 파일을 다음 처럼 수정해준다.<br /><br /><br /><span style="color: #134f5c;">module ApplicationHelper</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; #--------------------------------------------------------------------------#</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # title 표시</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; def full_title(page_title)</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; base_title = "RailsBoard"</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; if page_title.empty?</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; base_title</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; else</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "#{base_title} | #{page_title}"</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; #--------------------------------------------------------------------------#</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # Paging helper</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; def getTotalPageList( total_cnt, rowsPerPage )</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; if ((total_cnt % rowsPerPage) == 0)</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total_pages = total_cnt / rowsPerPage;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; else</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total_pages = (total_cnt / rowsPerPage) + 1;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; totalPageList = (1..total_pages).to_a</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; #totalPageList = Array (1..total_pages)</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">end</span><br /><br /><br />이제 컨트롤러 action을 구현해본다.<br />\RailsBoard\app\controllers\board_controller.rb 파일에 index action을 추가한다.<br />이 action이 최초 루트 페이지인, 게시판 전체 목록을 보여주는 화면을 처리한다.<br /><br /><span style="color: #134f5c;">class BoardController &lt; ApplicationController</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # 모든 helper는 view에서는 사용가능하지만 controller 에서는 명시적으로</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # include 해줘야 한다.</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; include ApplicationHelper</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; #--------------------------------------------------------------------------#</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; def index</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @boardList = MyRailsBoardRow.find(:all, :limit =&gt;rowsPerPage, :order=&gt;'created_at desc') &nbsp;</span><span style="color: #134f5c;">#(1)</span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp;&nbsp;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @totalCnt = MyRailsBoardRow.all.count<span class="Apple-tab-span" style="white-space: pre;">   </span>#(2)</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @current_page = 1 <span class="Apple-tab-span" style="white-space: pre;">       </span>#(3) 최초 화면이므로 1</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @totalPageList = getTotalPageList(@totalCnt, rowsPerPage) #(4)</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">end</span><br /><br />이코드를 살펴보면,<br /><br />(1) 모델(MyRailsBoardRow)을 사용해서 rowsPerPage 개만 조회해서 리스트를 돌려준다.<br />(2) 전체 게시물 갯수를 구하고<br />(3) 현재 페이지 변수를 설정하고 (루트 페이지이므로 1을 설정)<br />(4) ApplicationHelper mixin 의 getTotalPageList를 호출해서 전체 페이지 목록을 구한다.<br /><br /><span style="background-color: #fff2cc;">그리고 이러한 @로 시작되는 instance 변수들은 자동적으로 뷰(RailsBoard\app\views\board\index.html.erb)&nbsp;에서도 사용가능하다.</span><br /><br /><br /><span style="background-color: #fff2cc;"><span style="color: #660000;"><b>* 뷰 작성</b></span></span><br /><span style="background-color: #fff2cc;"><span style="color: #660000;"><b><br /></b></span></span>컨트롤러가 모델을 사용해서, 데이터를 조회한후, 그 리스트를 돌려주었다. 이제 이 리스트를 화면에 출력하기 위해&nbsp;뷰를 작성해야 한다. 이 화면이 최초 보여지는 전체 게시물 출력 화면이다.&nbsp;RailsBoard\app\views\board\index.html.erb 를 다음처럼 수정한다.<br /><br /><span style="color: #134f5c;">&lt;table cellspacing=1 width=700 border=0&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;총 게시물수: <span style="background-color: #fff2cc;">&lt;%= @totalCnt %&gt;</span>&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;p align=right&gt; 페이지:<span style="background-color: #fff2cc;">&lt;%= @current_page %&gt;</span></span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table cellspacing=1 width=700 border=1&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=50&gt;&lt;p align=center&gt;번호&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;이름&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=320&gt;&lt;p align=center&gt;제목&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;등록일&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;조회수&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; <span style="background-color: #fff2cc;">&lt;% if @boardList.count &gt; 0 %&gt;</span></span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;ul&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="background-color: #fff2cc;">&lt;% &nbsp;@boardList.each do |boardRow| %&gt;</span></span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=50&gt;&lt;p align=center&gt;<span style="background-color: #fff2cc;">&lt;%= boardRow.id %&gt;</span>&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;%= boardRow.name %&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=320&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p align=center&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="/viewWork?id=&lt;%=boardRow.id%&gt;&amp;current_page=&lt;%= @current_page %&gt;&amp;searchStr=None" title="&lt;%= boardRow.memo%&gt;"&gt;&lt;%= boardRow.subject %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;%= boardRow.created_at %&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;%= boardRow.hits %&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% end %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/ul&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; <span style="background-color: #fff2cc;">&lt;% else %&gt;</span></span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;No Data.&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; <span style="background-color: #fff2cc;">&lt;% end %&gt;</span></span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><br /><span style="color: #134f5c;">&lt;table cellspacing=1 width=700 border=1 &gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="background-color: #fff2cc;">&lt;% &nbsp;@totalPageList.each do |page| %&gt;</span></span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="/listSpecificPageWork?current_page=&lt;%=page%&gt;" &gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% if page == @current_page.to_i %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% end %&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;%=page%&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% if page == @current_page.to_i %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/b&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% end %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;% end %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table width=700&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;input type=button value="글쓰기" &nbsp;OnClick="window.location='/show_write_form'" &gt; &nbsp;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;form name=searchf method=post action="/searchWithSubject/"&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p align=right&gt;&lt;input type=text name=searchStr size=50 &nbsp;maxlength=50&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=submit value="글찾기"&gt;&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><br />뷰에서 컨트롤러의 정보를 참조하는 방법을 살펴보면 된다.<br /><br /><b style="background-color: #fff2cc; color: #660000;">* Test</b><br /><b style="background-color: #fff2cc; color: #660000;"><br /></b>이 뷰가 출력되기 위해서는 한가지 꼭 해줄것이 있는데, <span style="background-color: #fff2cc;"><b>다음 파일을 delete해주는 것이다</b></span>.<br /><br /><span style="color: #134f5c;"><b style="background-color: #fff2cc;">public/index.html</b></span><br /><br />rails가 기본적으로 출력하는 이것을 삭제해야, 내가 정의한 뷰가 보여진다.<br /><br />이제 작성한 컨트롤러와 뷰가 제대로 동작하는지 확인하기 위해서,<br />어플리케이션 폴더상에서 다음을 실행해서 서브를 띄운다.<br /><br /><b><span style="color: #134f5c;">rails s</span></b><br /><br />그리고 <a href="http://localhost:3000/" target="_blank">http://localhost:3000/ </a>으로 확인해본다.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-DysKmMc5jH0/UDx1yOdsJ1I/AAAAAAAAA5U/EBMEAh3zu94/s1600/1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="108" src="http://2.bp.blogspot.com/-DysKmMc5jH0/UDx1yOdsJ1I/AAAAAAAAA5U/EBMEAh3zu94/s320/1.jpg" width="320" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><br /><br /><b><span style="background-color: #fff2cc; color: #660000;">* 게시판 기능 구현</span></b><br /><br /><span style="color: #660000;"><b>* 글 쓰기 구현&nbsp;</b></span><br /><span style="color: #660000;"><b><br /></b></span>이제 글쓰기 기능을 구현할 차례이다.&nbsp;새로운 기능들을 추가하기위해서는 다음과 같은 일정한 절차를 반복해주면 된다.<br /><span style="color: #134f5c;">1.url을 컨트롤러의 action에 mapping</span><br /><span style="color: #134f5c;">2.action을 구현</span><br /><span style="color: #134f5c;">3.해당 뷰를 구현.</span><br /><br />그럼, 글쓰기를 위한 url, /show_write_form 을 컨트롤러의 action에 mapping 해보자.<br />RailsBoard\config\routes.rb 에 다음처럼 mapping 해준다.<br /><br /><span style="color: #134f5c;">RailsBoard::Application.routes.draw do</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; root :to =&gt; 'board#index'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # 컨트롤러와 action을 mapping</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/show_write_form', &nbsp;to: 'board#show_write_form'</span><br /><span style="color: #134f5c;">end</span><br /><br />그리고, action을 구현한다.<br />\RailsBoard\app\controllers\board_controller.rb 파일에 show_write_form action을 추가한다.<br /><br /><span style="color: #134f5c;">class BoardController &lt; ApplicationController</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; include ApplicationHelper</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; def index</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @boardList = MyRailsBoardRow.find(:all, :limit =&gt; rowsPerPage, :order=&gt; 'created_at desc')</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @totalCnt = MyRailsBoardRow.all.count</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @current_page = 1</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @totalPageList = getTotalPageList(@totalCnt, rowsPerPage)</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def show_write_form</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; <span class="Apple-tab-span" style="white-space: pre;"> </span>#입력폼만을 풀력할것이므로 여기서는 처리할것이 없다.</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; <span class="Apple-tab-span" style="white-space: pre;"> </span># 그러나 만약 RESTful을 적용한다면, 여기서 model객체를 생성해서 전달하고, 데이터를 담아올것이다.</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">end</span><br /><br />이제, 뷰를 생성해야 한다.<br />\RailsBoard\app\views\board\ 에 새로운 파일, show_write_form.html.erb 를 생성하고 내용은 다음처럼 작성해준다.<br /><br /><span style="color: #134f5c;">&lt;% provide(:title, '게시판 글쓰기') %&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;script language="javascript"&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; function writeCheck() {</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; var form = document.writeform;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; if (!form.name.value)</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; {</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alert("이름을 적어주세요");</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; form.name.focus();</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; if (!form.subject.value) {</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alert("제목을 적어주세요");</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; form.subject.focus();</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; if (!form.memo.value) {</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alert("내용을 적어주세요");</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; form.memo.focus();</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; form.submit();</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; }</span><br /><span style="color: #134f5c;">&lt;/script&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table width=700 border=1 cellspacing=0 cellpadding=5&gt;</span><br /><span style="color: #134f5c;">&lt;form name=writeform method=post action="/DoWriteBoard"&gt;</span><br /><span style="color: #134f5c;">&lt;tr&gt;&lt;td&gt;&lt;b&gt;이름&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=text name=name size=50 &nbsp;maxlength=50&gt;&lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;tr&gt;&lt;td&gt;&lt;b&gt;이메일&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=text name=mail size=50 &nbsp;maxlength=50&gt;&lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;tr&gt;&lt;td&gt;&lt;b&gt;제목&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=text name=subject size=50 &nbsp;maxlength=50&gt;&lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;tr&gt;&lt;td&gt;&lt;b&gt;내용&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;textarea name=memo cols=50 rows=10&gt;&lt;/textarea&gt;&lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/form&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table width=700 border=1 cellspacing=0 cellpadding=0&gt;</span><br /><span style="color: #134f5c;">&lt;tr&gt;&lt;td&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;input type=button value="등록" OnClick="javascript:writeCheck();"&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><br />만약, rails가 지원하는 RESTful 을 적용하고 form_for 등을 이용하면 위 와는 다른 코딩을 할수도 있다. 이건 추후에 다시 정리해보기로 하고 일단 pass.<br />이제, 게시물 작성 폼까지 완성이 되었고, 등록 버튼을 클릭시 /DoWriteBoard url 처리가 필요하다.&nbsp;앞서의 기능구현과 동일하게 url mapping및 컨트롤러에서의 구현, 그리고 뷰작성으로 계속 진행될것이다.&nbsp;RailsBoard\config\routes.rb 에 다음처럼 mapping 해준다.<br /><br /><span style="color: #134f5c;">RailsBoard::Application.routes.draw do</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; root :to =&gt; 'board#index'</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; # 컨트롤러와 action을 mapping</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/show_write_form', &nbsp;to: 'board#show_write_form'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/DoWriteBoard', &nbsp;to: 'board#DoWriteBoard'</span><br /><span style="color: #134f5c;">end</span><br /><br />그리고, action을 구현한다.<br />\RailsBoard\app\controllers\board_controller.rb 파일에 DoWriteBoard action을 추가한다.<br /><br /><span style="color: #134f5c;">class BoardController &lt; ApplicationController</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; include ApplicationHelper</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; def index</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; ....생략</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def show_write_form</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def DoWriteBoard</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @rowData = MyRailsBoardRow.new( name: params[:name], mail: params[:mail],</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; subject: params[:subject], memo: params[:memo], hits:0)</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @rowData.save</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; redirect_to '/'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">end</span><br /><br />DoWriteBoard action에서는 폼이 전달한 인자들을 얻어서, 새로운 모델 객체를 생성한후, 실제 DB에 저장한다. 그리고 루트 화면 으로 전환한다.&nbsp;잘 처리되는지 확인하기 위해서 웹페이지에서 글쓰기를 몇번 시도해보자.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-DaBg1TCaHU8/UD2OclVdsfI/AAAAAAAAA5s/aPfDlf58g00/s1600/2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="210" src="http://4.bp.blogspot.com/-DaBg1TCaHU8/UD2OclVdsfI/AAAAAAAAA5s/aPfDlf58g00/s320/2.jpg" width="320" /></a></div><br /><br /><b style="background-color: #fff2cc; color: #660000;">* 페이지 처리 구현&nbsp;</b><br /><b style="color: #660000;"><br /></b>여기서, 페이지 처리를 위한 action 을 정의하려 한다.&nbsp;사용자가 page 1,2,3 등을 클릭시에 그에 맞는 처리를 해줘야하기 때문이다.&nbsp;index.html.erb에서 이처리를 위해서 \listSpecificPageWork url로 처리하게 해주었다. 이를 구현한다.<br />match '/listSpecificPageWork', to: 'board#listSpecificPageWork' 를 route.rb에 추가한다.<br /><br /><span style="color: #134f5c;">RailsBoard::Application.routes.draw do</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; root :to =&gt; 'board#index'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # 컨트롤러와 action을 mapping</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/show_write_form', &nbsp;to: 'board#show_write_form'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/DoWriteBoard', &nbsp;to: 'board#DoWriteBoard'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/listSpecificPageWork', to: 'board#listSpecificPageWork'</span><br /><span style="color: #134f5c;">end</span><br /><br />RailsBoard\app\controllers\board_controller.rb 파일에 listSpecificPageWork action을 추가한다.<br /><br /><span style="color: #134f5c;">class BoardController &lt; ApplicationController</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; include ApplicationHelper</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def index</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; ....생략</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def show_write_form</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def DoWriteBoard</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; .....생략</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def listSpecificPageWork</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @current_page = params[:current_page]</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @totalCnt = MyRailsBoardRow.all.count</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @totalPageList = getTotalPageList( @totalCnt, rowsPerPage)</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; # 페이지를 가지고 범위 데이터를 조회한다 =&gt; raw SQL 사용</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; #Oracle 사용시</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; # @boardList = MyRailsBoardRow.find_by_sql ["SELECT Z.* FROM(SELECT X.*, ceil( rownum / %s ) \</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; &nbsp; as page FROM ( SELECT ID,SUBJECT,NAME, CREATED_AT, MAIL,MEMO,HITS \</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; &nbsp; &nbsp; &nbsp; FROM MY_RAILS_BOARD_ROWS &nbsp;ORDER BY ID DESC ) X ) Z WHERE page = %s", rowsPerPage, @current_page]</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; #sqlite3 사용시</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @boardList = MyRailsBoardRow.find_by_sql ["select ID,SUBJECT,NAME, CREATED_AT, MAIL,MEMO,HITS \</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; from MY_RAILS_BOARD_ROWS ORDER BY id desc limit %s offset %s",</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rowsPerPage, @current_page.to_i ==1 ? 0 : 2*(@current_page.to_i-1) ]</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">end</span><br /><br />listSpecificPageWork action 은 페이지를 전달받아서 해당 페이지 게시물만을 목록에 출력한다.&nbsp;Oracle에서는 rownum을 이용했고, sqlite 에서는 이를 대체하기 위해 limit ~ offset ~ 을 사용했다.<br /><br />이제 뷰를 구현한다.<br />\RailsBoard\app\views\board\ 에 새로운 파일, listSpecificPageWork.html.erb 를 생성하고 내용은 다음처럼 작성해준다.<br /><br /><span style="color: #134f5c;">&lt;table cellspacing=1 width=700 border=0&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;총 게시물수: &lt;%=@totalCnt%&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;p align=right&gt; 페이지:&lt;%=@current_page%&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table cellspacing=1 width=700 border=1&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=50&gt;&lt;p align=center&gt;번호&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;이름&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=320&gt;&lt;p align=center&gt;제목&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;등록일&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;조회수&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &lt;% if @boardList.any? %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;ul&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% &nbsp;@boardList.each do |boardRow| %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=50&gt;&lt;p align=center&gt;&lt;%=boardRow.id%&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;%=boardRow.name%&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=320&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p align=center&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="/viewWork?id=&lt;%=boardRow.id%&gt;&amp;current_page=&lt;%=@current_page%&gt;&amp;searchStr=None" title="&lt;%=boardRow.memo%&gt;"&gt;&lt;%=boardRow.subject %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;%=boardRow.created_at%&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td width=100&gt;&lt;p align=center&gt;&lt;%=boardRow.hits%&gt;&lt;/p&gt;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% end %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/ul&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;% else %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;No Data.&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;% end %&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table cellspacing=1 width=700 border=1 &gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;% &nbsp;@totalPageList.each do |page| %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;a href="/listSpecificPageWork?current_page=&lt;%=page%&gt;" &gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- Fixnum 과 String 을 비교하기 위해서 변환 --&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% if page == @current_page.to_i %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;b&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% end %&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;%=page%&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% if page == @current_page.to_i %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/b&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;% end %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;% end %&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table width=700&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;input type=button value="글쓰기" &nbsp;OnClick="window.location='/show_write_form'"&gt; &nbsp; &nbsp;&lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;td&gt;&lt;form name=searchf method=post action="/searchWithSubject/"&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;p align=right&gt;&lt;input type=text name=searchStr size=50 &nbsp;maxlength=50&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=submit value="글찾기"&gt;&lt;/p&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><br />그런데, 이 뷰의 내용은 이미 작성한 index.html.erb와 동일하다.&nbsp;그래서 기존 작성된 내용에 대해서 약간 수정을 해보기로 한다.&nbsp;index action은 다음처럼 변경 가능하다.<br /><br />&nbsp; &nbsp; <span style="color: #134f5c;">def index</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; #@boardList = MyRailsBoardRow.find(:all, :limit =&gt; rowsPerPage, :order=&gt; 'created_at desc')</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; #@totalCnt = MyRailsBoardRow.all.count</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; #@current_page = 1</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; #@totalPageList = getTotalPageList(@totalCnt, rowsPerPage)</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; # listSpecificPageWork 로 redirect 한다.</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; url = '/listSpecificPageWork?current_page=1'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; redirect_to url</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><br />그리고 기존의 index.html.erb 은 중복되므로 삭제해버리자.<br />테스트를 위해서 메인 페이지가 제대로 표시되는지 여부 및 페이지 전환이 정상인지 확인한다.<br /><br /><b style="background-color: #fff2cc; color: #660000;">* 내용보기 구현&nbsp;</b><br /><b style="background-color: #fff2cc; color: #660000;"><br /></b>그럼 이제 게시물 내용보기 기능을 구현한다.<br />match '/viewWork', &nbsp;to: 'board#viewWork' 를 route.rb에 추가한다.<br /><br /><span style="color: #134f5c;">RailsBoard::Application.routes.draw do</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; root :to =&gt; 'board#index'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; # 컨트롤러와 action을 mapping</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/show_write_form', &nbsp;to: 'board#show_write_form'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/DoWriteBoard', &nbsp;to: 'board#DoWriteBoard'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/listSpecificPageWork', to: 'board#listSpecificPageWork'</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; match '/viewWork', &nbsp;to: 'board#viewWork'</span><br /><span style="color: #134f5c;">end</span><br /><br />그리고, action을 구현한다.<br />\RailsBoard\app\controllers\board_controller.rb 파일에 viewWork action을 추가한다.<br /><br /><span style="color: #134f5c;">class BoardController &lt; ApplicationController</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; include ApplicationHelper</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; def index</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; ....생략</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def show_write_form</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def DoWriteBoard</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; ....생략</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;"> </span>def listSpecificPageWork</span><br /><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;">  </span>....생략</span><br /><span style="color: #134f5c;"><span class="Apple-tab-span" style="white-space: pre;"> </span>end</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; def viewWork</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @id = params[:id]</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @current_page = params[:current_page]</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @searchStr= params[:searchStr]</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; MyRailsBoardRow.increment_counter(:hits, @id ) # hits increase</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; @rowData = MyRailsBoardRow.find(params[:id])</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; end</span><br /><span style="color: #134f5c;">end</span><br /><br />조회수를 증가하기 위해서 모델의 increment_counter 메서드를 이용했다.<br />그리고, 내용보기 화면에서 사용할 모델 객체 @rowData를 모델의 find class 메서드를 이용해서 구한다.&nbsp;그럼 다음은, view를 추가해야한다. \RailsBoard\app\views\board\ 에 새로운 파일, viewWork.html.erb 를 생성하고 내용은 다음처럼 작성해준다.<br /><br /><span style="color: #134f5c;">&lt;% provide(:title, '글보기'+@rowData.name) %&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;script language="javascript"&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; function boardlist()</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; {</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; var s = "&lt;%=@searchStr%&gt;";</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; if(s=="None")</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; location.href = '/listSpecificPageWork?current_page=&lt;%=@current_page%&gt;';</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; else</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; location.href = '/listSearchedSpecificPageWork?pageForView=&lt;%=@current_page%&gt;&amp;searchStr=&lt;%=@searchStr%&gt;';</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; }</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; function boardmodify()</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; {</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; location.href='/listSpecificPageWork_to_update?id=&lt;%=@id%&gt;&amp;current_page=&lt;%=@current_page%&gt;&amp;searchStr=&lt;%=@searchStr%&gt;';</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; }</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; function boarddelete()</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; {</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; location.href='/DeleteSpecificRow?id=&lt;%=@id%&gt;&amp;current_page=&lt;%=@current_page%&gt;';</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; }</span><br /><span style="color: #134f5c;">&lt;/script&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table cellspacing = 0 cellpadding = 5 border = 1 width=500&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;조회수&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;%=@rowData.hits%&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;이름 &lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;%=@rowData.name%&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;이메일 &lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;%=@rowData.mail%&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;제목 &lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;%=@rowData.subject%&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;&lt;td&gt;&lt;b&gt;내용 &lt;/b&gt;&lt;/td&gt;&lt;td width=350&gt;&lt;%=@rowData.memo%&gt; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><span style="color: #134f5c;"><br /></span><span style="color: #134f5c;">&lt;table &nbsp;cellspacing = 0 cellpadding = 0 border = 0 width=500&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;tr&gt;&lt;td&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=button value="수정" OnClick="javascript:boardmodify()"&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=button value="목록" OnClick="javascript:boardlist()"&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &nbsp; &nbsp; &lt;input type=button value="삭제" OnClick="javascript:boarddelete()"&gt;</span><br /><span style="color: #134f5c;">&nbsp; &nbsp; &lt;/td&gt;&lt;/tr&gt;</span><br /><span style="color: #134f5c;">&lt;/table&gt;</span><br /><br />여기까지 완료후 테스트를 해보자,. 게시물중 하나를 선택하면 내용이 보일것이다.<br /><br />이제 남은 기능은 게시물 수정, 삭제, 검색, 목록으로 돌아가기 등인데,&nbsp;<span style="background-color: #fff2cc;">여기까지 코딩하다보면,</span> <span style="background-color: #fff2cc;">현재까지 매우 루틴한 작업이 반복되고 있음을 알수 있다.&nbsp;그래서 남은 기능구현은 소스코드를 참고해도 충분할것 같아 여기서 이만 마무리 할까 한다</span>. 향후에는 동일한 게시판 만들기를 주제로, Rails 가 제공하는 여러 기능들을 잘 활용해서 다시 작성해보기로 하자.<br /><br /><span style="background-color: #fff2cc; color: #660000;">2012-09-04 다시 작성된 게시판 예제는 다음 글을 참조바람.&nbsp;</span><br /><a href="http://jeremyko.blogspot.kr/2012/09/ruby-on-rails-rails.html" target="_blank"><b><span style="color: #660000;">http://jeremyko.blogspot.kr/2012/09/ruby-on-rails-rails.html</span></b></a><br /><br />