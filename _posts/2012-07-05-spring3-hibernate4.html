---
layout: post
title: spring3 + Hibernate4 예제
date: '2012-07-05T16:07:00.001+09:00'
author: jeremyko
tags:
- hibernate4
- spring
- java
modified_time: '2012-07-25T10:17:35.195+09:00'
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-4689006753718484969
blogger_orig_url: https://jeremyko.blogspot.com/2012/07/spring3-hibernate4.html
---

<span style="font-family: 'Courier New',Courier,monospace; font-size: small;"><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><br /><span style="color: #993366;"><span style="font-weight: bold;">hibernate4 예제 </span></span><br /><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span></span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;"><span style="color: #999999;">최근의 자바 개발 환경에 약간이라도 익숙해져 볼 맘으로 작성해 보았다.&nbsp;그런데 보다시피 이 간단한 예제(테이블에 insert) 하나를 수행하기 위해서도 설정할것, 알아야 할것이 많다.&nbsp;10년전쯤 자바 개발 하다가 이런 설정과 환경에 질려버렸던것 같은데&nbsp;지금도 별로 좋아진것 없는것 같다. &nbsp;</span><span style="background-color: white; color: #999999;">수많은 설정...설정....&nbsp;</span></span><br /><span style="font-family: inherit; font-size: small;"></span><br /><span style="font-family: inherit; font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">간단한 고객 데이터를 테이블에 저장하기 위한 예제를 작성해본다.사용된 개발환경은 다음과 같다</span><br /><span style="font-family: inherit; font-size: small;">- hibernate-release-4.1.3.Final</span><br /><span style="font-family: inherit; font-size: small;">- 데이터베이스: oracle 11g XE</span><br /><span style="font-family: inherit; font-size: small;"><br /></span><br /><a name='more'></a><span style="font-family: inherit; font-size: small;"><span style="font-weight: bold;">1. 데이터베이스 설정</span><br />&nbsp;</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; 고객 테이블을 만든다.</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">CREATE TABLE&nbsp; "CUSTOMER"&nbsp;( &nbsp;&nbsp;</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"SEQ" NUMBER NOT NULL ENABLE,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"ID" VARCHAR2(8) NOT NULL ENABLE,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"PWD" VARCHAR2(8),<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"NAME" VARCHAR2(20),<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; CONSTRAINT "CUSTOMER_PK" PRIMARY KEY ("ID") ENABLE<br />&nbsp; &nbsp; &nbsp;) ;</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;"><span style="font-weight: bold;">2. 고객 정보를 억세스 하기 위한 클래스를 작성한다</span>.</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; </span><span style="font-family: inherit; font-size: small;"><span style="color: #993366;">// Customer.java</span><br /><br />&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">package app;<br />&nbsp; &nbsp; public class Customer<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; private int seq;<br />&nbsp; &nbsp; &nbsp; &nbsp; private String id;<br />&nbsp; &nbsp; &nbsp; &nbsp; private String password;<br />&nbsp; &nbsp; &nbsp; &nbsp; private String name;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public Customer()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; public int getSeq()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return seq;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; // 자동으로 생성되는 번호이므로 set 금지<br />&nbsp; &nbsp; &nbsp; &nbsp; private void setSeq(int seq)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.seq = seq;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public String getId()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return id;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public void setId(String id)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.id = id;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; public String getPassword()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return password;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public void setPassword(String password)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.password = password;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; public String getName()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return name;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public void setName(String name)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.name = name;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }</span><br /><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">3. Customer.hbm.xml 맵핑 작성한다(Customer 클래스와 맵핑을 정의)</span><br /><span style="font-size: small;"><span style="font-family: inherit;">&nbsp; &nbsp;&nbsp;</span></span><br /><span style="font-size: small;"><span style="color: blue; font-family: Arial,Helvetica,sans-serif;">&nbsp; &nbsp; &lt;?xml version="1.0"?&gt;</span></span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;"><br />&nbsp; &nbsp; &lt;!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"&gt;<br />&nbsp; &nbsp; &lt;hibernate-mapping&gt;<br />&nbsp; &nbsp; &nbsp;&lt;class name="app.Customer" table="CUSTOMER"&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;!-- 기본키가 되는 필드 --&gt;<br />&nbsp; &nbsp; &nbsp; &lt;id column="ID" name="id"&gt; &lt;/id&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;property column="SEQ" name="seq" type="int"/&gt;<br />&nbsp; &nbsp; &nbsp; &lt;property column="PWD" generated="never" lazy="false" name="password" type="string"/&gt;<br />&nbsp; &nbsp; &nbsp; &lt;property column="NAME" generated="never" lazy="false" name="name" type="string"/&gt;<br />&nbsp; &nbsp; &nbsp;&lt;/class&gt;<br />&nbsp; &nbsp; &lt;/hibernate-mapping&gt;</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">4. 하이버네이트 세션을 가져오기 위해, 유틸클래스를 정의해서 사용한다.</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><br /><span style="color: #993366; font-family: inherit; font-size: small;">&nbsp; &nbsp; // HibernateUtil.java</span><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: inherit; font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">package util;<br />&nbsp; &nbsp; import org.hibernate.HibernateException;<br />&nbsp; &nbsp; import org.hibernate.Session;<br />&nbsp; &nbsp; import org.hibernate.SessionFactory;<br />&nbsp; &nbsp; import org.hibernate.cfg.Configuration;<br />&nbsp; &nbsp; import org.hibernate.service.ServiceRegistry;<br />&nbsp; &nbsp; import org.hibernate.service.ServiceRegistryBuilder;<br /><br />&nbsp; &nbsp; public class HibernateUtil<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; public static final SessionFactory sessionFactory;<br />&nbsp; &nbsp; &nbsp; &nbsp; private static ServiceRegistry serviceRegistry;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; static<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Create the SessionFactory from hibernate.cfg.xml<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configuration configuration = new Configuration();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; configuration.configure();<br /><br />&nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; serviceRegistry =&nbsp;</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new&nbsp;<span style="background-color: white;">ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();</span></span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sessionFactory = configuration.buildSessionFactory(serviceRegistry);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // sessionFactory = new<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Configuration().configure().buildSessionFactory(); //deprecated<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch (Throwable ex)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Make sure you log the exception, as it might be swallowed<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.err.println("Initial SessionFactory creation failed." + ex);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new ExceptionInInitializerError(ex);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public static final ThreadLocal&lt;Session&gt; session = new ThreadLocal&lt;Session&gt;();<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public static Session getCurrentSession() throws HibernateException<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Session s = session.get();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Open a new Session, if this thread has none yet<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (s == null)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s = sessionFactory.openSession();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Store it in the ThreadLocal variable<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; session.set(s);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return s;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public static void closeSession() throws HibernateException<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Session s = (Session) session.get();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (s != null)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s.close();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; session.set(null);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">5. 데이터 저장,수정, 삭제를 위한 helper 클래스를 하나 만들자.</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><br /><span style="color: #993366; font-family: inherit; font-size: small;">&nbsp; &nbsp; // CustomerManager.java</span><span style="color: #993366; font-family: inherit; font-size: small;"> &nbsp;&nbsp; </span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">package app;<br />&nbsp; &nbsp; import org.hibernate.Session;<br />&nbsp; &nbsp; import util.HibernateUtil;<br /><br />&nbsp; &nbsp; public class CustomerManager<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; public Customer insertCustomer(String id, String pass, String name)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Session session = HibernateUtil.getCurrentSession();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Customer customer = new Customer();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customer.setId(id);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customer.setPassword(pass);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customer.setName(name);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //session.save(customer);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; session.persist(customer);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return customer;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public Customer updateCustomer(String Id, String newPass, String newName)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Customer customer = getCustomer(Id);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customer.setId(Id);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customer.setPassword(newPass);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customer.setName(newName);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return customer;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public void deleteArticle(String id)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Session session = HibernateUtil.getCurrentSession();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Customer customer = getCustomer(id);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; session.delete(customer);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public Customer getCustomer(String id)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Session session = HibernateUtil.getCurrentSession();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (Customer) session.get(Customer.class, id);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">6. 제일 중요한~ 하이버네이트 설정 파일을 작성한다.</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><br /><span style="color: #993366; font-family: inherit; font-size: small;">&nbsp; &nbsp; // hibernate.cfg.xml</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&nbsp; &nbsp; &lt;!DOCTYPE hibernate-configuration PUBLIC<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "-//Hibernate/Hibernate Configuration DTD 3.0//EN"<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"&gt;<br />&nbsp; &nbsp; &lt;hibernate-configuration&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;session-factory&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="hibernate.connection.driver_class"&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="hibernate.connection.password"&gt;study&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="hibernate.connection.url"&gt;jdbc:oracle:thin:@localhost:1521/XE&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="hibernate.connection.username"&gt;study&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="hibernate.dialect"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- Echo all executed SQL to stdout --&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="show_sql"&gt;true&lt;/property&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;!-- Mapping --&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;mapping resource="app/Customer.hbm.xml"/&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;/session-factory&gt;<br />&nbsp; &nbsp; &lt;/hibernate-configuration&gt;</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">7. 이것을 테스트 해보기 위한 main class</span><br /><span style="font-family: inherit; font-size: small;"><b><br /></b>보다시피, 직접 세션을 얻고, 트랜잭션을 시작한다. 나중에 스프링과의 결합에서는&nbsp;이런 작업들은 프레임워크 뒷단으로 사라지게 된다.<br />&nbsp; &nbsp; &nbsp;</span><br /><span style="font-family: inherit; font-size: small;"><span style="color: #993366;">&nbsp; &nbsp; // HibernateTest.java</span><br />&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">package app;<br />&nbsp; &nbsp; import org.hibernate.HibernateException;<br />&nbsp; &nbsp; import org.hibernate.Session;<br />&nbsp; &nbsp; import org.hibernate.Transaction;<br /><br />&nbsp; &nbsp; import org.apache.log4j.Logger;<br />&nbsp; &nbsp; import util.HibernateUtil;<br /><br />&nbsp; &nbsp; public class HibernateTest<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; public static Logger log = Logger.getLogger(HibernateTest.class);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public static void logThis(Customer customer)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String id = customer.getId();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String pass = customer.getPassword();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String name = customer.getName();<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log.info("id &nbsp; [" +id+"]");<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log.info("pass [" +pass+"]");<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log.info("name [" +name+"]");<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public static void main(String[] args)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Session sess = null;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Transaction tx = null;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 세션 열기<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sess = HibernateUtil.getCurrentSession();<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 트랜잭션 시작<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tx = sess.beginTransaction();<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CustomerManager custManager = new CustomerManager();<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Insert<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Customer customer1 = custManager.insertCustomer("id1", "pass1", "name1");<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Customer customer2 = custManager.insertCustomer("id2", "pass2", "name2");<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; logThis(customer1);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; logThis(customer2);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //update<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Customer customer3 = custManager.updateCustomer("id2", "pass3", "name3");<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; logThis(customer3);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //delete<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; custManager.deleteArticle("id1");<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; custManager.deleteArticle("id2");<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tx.commit(); // 커밋<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch (HibernateException e)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tx.rollback(); // 롤백<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e.printStackTrace();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; finally<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 세션 닫기<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HibernateUtil.closeSession();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }</span><br /><span style="font-family: inherit; font-size: small;"><br /></span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: 'Courier New',Courier,monospace; font-size: small;"><span style="color: #993366;"><b>*</b></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><br /><span style="color: #993366;"><span style="font-weight: bold;">spring_hibernate4 예제 </span></span><br /><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span><span style="color: #993366;"><span style="font-weight: bold;">*</span></span></span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">이번에는 동일한 예제를 스프링3+하이버네이트 로 작성해본다.</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">사용된 개발환경은 다음과 같다</span><br /><span style="font-family: inherit; font-size: small;">- hibernate-release-4.1.3.Final</span><br /><span style="font-family: inherit; font-size: small;">- 데이터베이스: oracle 11g XE</span><br /><span style="font-family: inherit; font-size: small;">- spring-framework-3.1.1.RELEASE</span><br /><span style="font-family: inherit; font-size: small;">그밖에 다음 jar 파일이 필요하다 (트랜잭션을 위해 AOP 설정 필요).</span><br /><span style="font-family: inherit; font-size: small;">- com.springsource.org.aopalliance-1.0.0.jar</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">1. 데이터베이스 설정</span><span style="font-family: inherit; font-size: small; font-weight: bold;"> </span><span style="font-family: inherit; font-size: small;">:  고객 테이블은 앞서의 예제와 동일</span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">2. 고객 정보를 억세스 하기 위한 클래스(POJO) 작성.</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; //Customer.java</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">package app;<br /><br />&nbsp; &nbsp; import java.math.BigDecimal;<br /><br />&nbsp; &nbsp; public class Customer<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; private String id;<br />&nbsp; &nbsp; &nbsp; &nbsp; private BigDecimal seq;<br />&nbsp; &nbsp; &nbsp; &nbsp; private String pwd;<br />&nbsp; &nbsp; &nbsp; &nbsp; private String name;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public Customer(String id, BigDecimal seq, String pwd, String name) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.id = id;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.seq = seq;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.pwd = pwd;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.name = name;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public Customer() {<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; public String getId() {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return this.id;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public void setId(String id) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.id = id;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; public BigDecimal getSeq() {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return this.seq;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public void setSeq(BigDecimal seq) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.seq = seq;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public String getPwd() {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return this.pwd;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; public void setPwd(String pwd) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.pwd = pwd;<br />&nbsp; &nbsp; &nbsp; &nbsp; }</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; &nbsp; &nbsp; public String getName() {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return this.name;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; public void setName(String name) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.name = name;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">3. 맵핑 파일을 작성한다. 이것은 테이블당 1개씩 필요하다. (앞서와 동일함)</span><br /><span style="font-family: inherit; font-size: small;">&nbsp;&nbsp; </span><span style="color: #993366; font-family: inherit; font-size: small;">Customer.hbm.xml</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-size: small;"><span style="font-family: inherit;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif;">&lt;?xml version="1.0"?&gt;</span></span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;"><br />&nbsp; &nbsp; &lt;!DOCTYPE hibernate-mapping PUBLIC<br />&nbsp; &nbsp; &nbsp; &nbsp; "-//Hibernate/Hibernate Mapping DTD 3.0//EN"<br />&nbsp; &nbsp; &nbsp; &nbsp; "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" &gt;<br /><br />&nbsp; &nbsp; &lt;hibernate-mapping&gt;<br />&nbsp; &nbsp; &lt;class &nbsp;&nbsp; name="app.Customer" &nbsp;&nbsp; table="CUSTOMER" &nbsp;&nbsp; lazy="false"&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;id name="id"&nbsp; type="java.lang.String" &nbsp; column="ID"&nbsp; &gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;generator class="assigned" /&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;/id&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property&nbsp; name="seq"&nbsp; type="java.math.BigDecimal" column="SEQ"&nbsp; not-null="true" /&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property&nbsp; name="pwd"&nbsp; type="java.lang.String" &nbsp; &nbsp; column="PWD"&nbsp; length="8" &nbsp; &nbsp;&nbsp; /&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property&nbsp; name="name" type="java.lang.String" &nbsp; &nbsp; column="NAME" length="20" &nbsp; &nbsp; /&gt;<br />&nbsp; &nbsp; &lt;/class&gt;<br />&nbsp; &nbsp; &lt;/hibernate-mapping&gt;</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">4. DAO 클래스를 작성한다.</span><br /><span style="color: #993366; font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><span style="background-color: white; color: #993366; font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: inherit; font-size: small;">앞서의 하이버네이트 예제에서는 HibernateUtil 클래스를 선언하고, 이를 이용해서,&nbsp;직접 세션을 구해서 사용했다. 아울러 트랜잭션 처리도 직접 수행했다.&nbsp;스프링과 결합되는 경우에는, 설정에 의해서 세션 객체가, 스프링으로부터 주어지고,&nbsp;기존 트랜잭션처리는 스프링 트랜잭션(하이버네이트와 결합된)을 이용한다.</span><span style="color: #993366; font-size: small;">&nbsp; &nbsp; CustomerDAO.java</span><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">package app;<br /><br />&nbsp; &nbsp; import org.hibernate.SessionFactory;<br />&nbsp; &nbsp; import org.hibernate.Session;<br />&nbsp; &nbsp; import org.springframework.beans.factory.annotation.Autowired;<br />&nbsp; &nbsp; import org.springframework.stereotype.Repository;<br />&nbsp; &nbsp; import org.springframework.transaction.annotation.Transactional;<br />&nbsp; &nbsp; import org.springframework.transaction.annotation.Propagation;<br />&nbsp; &nbsp; import java.util.*;<br /><br />&nbsp; &nbsp; @Repository<br />&nbsp; &nbsp; @Transactional(propagation=Propagation.REQUIRED)<br />&nbsp; &nbsp; public class CustomerDAO<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; //다음 프로퍼티는 생성자 호출시에 스프링이 전달해준다.<br />&nbsp; &nbsp; &nbsp; &nbsp; //이를 위해서 생성자에 @Autowired 사용이 필요하다.<br />&nbsp; &nbsp; &nbsp; &nbsp; private SessionFactory sessionFactory;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public CustomerDAO()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //반드시 필요!!!<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; @Autowired<br />&nbsp; &nbsp; &nbsp; &nbsp; public CustomerDAO(SessionFactory sessionFactory)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.sessionFactory = sessionFactory;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public Session currentSession()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return&nbsp; sessionFactory.getCurrentSession();<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public void addCustomer(Customer customer)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currentSession().save(customer);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public void deleteCustomer(String id)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currentSession().delete(getCustomerById(id));<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public Customer getCustomerById(String id)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (Customer) currentSession().get(Customer.class, id);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public void saveCustomer(Customer customer)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currentSession().update(customer);<br />&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><br /><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;">&nbsp; &nbsp; }</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;">5. 제일 중요한 스프링 설정 파일을 작성한다.</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">우리는 스프링이 제공하는 DI 를 이용해서, 하이버네이트의 세션 팩토리를&nbsp;설정하게 할것이다. 또한 트랜잭션 처리를 위해, 하이버네이트 트랜잭션 관리 빈을 설정하고&nbsp;그것의 세션 팩토리에, 우리가 정의한 하이버네이트 세션 팩토리를 전달할것이다.&nbsp;DAO객체 생성자에 하이버네이트 세션 팩토리를 전달하기 위해, @Autowired 어노테이션을 사용한다.&nbsp;와이어링 설정에 따라서, 어플리케이션 실행시, 스프링이 생성자를 호출하면서 하이버네이트 세션팩토리 객체를 넘겨줄것이다 (즉, 우리가 세션을 직접 생성할 필요 없다).&nbsp;트랜잭션을 위해서, AOP 설정이 필요하며, 이를 위해서 com.springsource.org.aopalliance-1.0.0.jar 이 꼭 필요하다.</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp; </span><span style="color: #993366; font-family: inherit; font-size: small;">HibernateSpringTest1.xml</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-size: small;"><span style="font-family: inherit;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><span style="color: blue; font-family: Arial,Helvetica,sans-serif; font-size: small;"><br />&nbsp; &nbsp; &lt;beans<br />&nbsp; &nbsp; &nbsp; &nbsp; xmlns="http://www.springframework.org/schema/beans"<br />&nbsp; &nbsp; &nbsp; &nbsp; xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />&nbsp; &nbsp; &nbsp; &nbsp; xmlns:util="http://www.springframework.org/schema/util"<br />&nbsp; &nbsp; &nbsp; &nbsp; xmlns:aop="http://www.springframework.org/schema/aop"<br />&nbsp; &nbsp; &nbsp; &nbsp; xmlns:context="http://www.springframework.org/schema/context"<br />&nbsp; &nbsp; &nbsp; &nbsp; xmlns:tx="http://www.springframework.org/schema/tx"<br />&nbsp; &nbsp; &nbsp; &nbsp; xsi:schemaLocation=<br />&nbsp; &nbsp; &nbsp; &nbsp; "http://www.springframework.org/schema/beans<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/beans/spring-beans.xsd<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/aop/spring-aop-3.0.xsd<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/aop<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/context<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/context/spring-context-3.0.xsd<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/tx<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/tx/spring-tx.xsd<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/util<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; http://www.springframework.org/schema/util/spring-util.xsd" &gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;!-- autowiring 사용위함 --&gt;<br />&nbsp; &nbsp; &nbsp; &lt;context:annotation-config /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;!-- 데이터 소스, oracle 11g XE 를 사용 --&gt;<br />&nbsp; &nbsp; &nbsp; &lt;bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource" &gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="driverClassName"&gt;&lt;value&gt;oracle.jdbc.driver.OracleDriver&lt;/value&gt;&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="url"&gt;&lt;value&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/value&gt;&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="username"&gt;&lt;value&gt;study&lt;/value&gt;&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="password"&gt;&lt;value&gt;study&lt;/value&gt;&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &lt;/bean&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;!-- Hibernate Session Factory 설정 --&gt;<br />&nbsp; &nbsp; &nbsp; &lt;bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean"&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="dataSource"&gt;&lt;ref bean="dataSource"/&gt;&lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="mappingResources"&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;list&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;app/Customer.hbm.xml&lt;/value&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;value&gt;app/CustomerOrder.hbm.xml&lt;/value&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/list&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;/property&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="hibernateProperties"&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;props&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;prop key="hibernate.dialect"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/prop&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;prop key="hibernate.show_sql"&gt;true&lt;/prop&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/props&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;/property&gt;<br />&nbsp; &nbsp; &nbsp; &lt;/bean&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;!-- 트랜잭션 --&gt;<br />&nbsp; &nbsp; &nbsp; &lt;tx:annotation-driven transaction-manager="transactionManager" /&gt;<br />&nbsp; &nbsp; &nbsp; &lt;bean id="transactionManager" class="org.springframework.orm.hibernate4.HibernateTransactionManager"&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;property name="sessionFactory" ref="sessionFactory" /&gt;<br />&nbsp; &nbsp; &nbsp; &lt;/bean&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;!-- CustomerDAO autowiring되었으므로 property지정은 불필요~ --&gt;<br />&nbsp; &nbsp; &nbsp; &lt;bean id="cutomerDao" class="app.CustomerDAO"&gt; &lt;/bean&gt;<br />&nbsp; &nbsp; &lt;/beans&gt;</span><br /><span style="font-size: small;"><br /></span><br /><span style="font-family: inherit; font-size: small; font-weight: bold;"><br /></span><br /><span style="font-family: inherit; font-size: small;"><span style="font-weight: bold;">6. 실제 사용을 위한 테스트 main이다.</span><br />&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: inherit; font-size: small;"><span style="color: #993366;">&nbsp; &nbsp; DrivingMain.java</span>&nbsp; &nbsp;&nbsp;</span><br /><span style="font-family: inherit; font-size: small;">&nbsp; &nbsp;&nbsp;</span><br /><span style="font-size: small;"><span style="font-family: inherit;">&nbsp; &nbsp; </span><span style="color: blue; font-family: Arial,Helvetica,sans-serif;">package app;<br />&nbsp; &nbsp; import java.math.BigDecimal;<br />&nbsp; &nbsp; import org.hibernate.HibernateException;<br />&nbsp; &nbsp; import org.springframework.context.ApplicationContext;<br />&nbsp; &nbsp; import org.springframework.context.support.ClassPathXmlApplicationContext;<br /><br />&nbsp; &nbsp; public class DrivingMain<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; public static void main(String[] args)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ApplicationContext context = new ClassPathXmlApplicationContext("app/HibernateSpringTest1.xml");<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CustomerDAO customerDAO = (CustomerDAO) context.getBean("cutomerDao");<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //customer<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BigDecimal seq1 = new BigDecimal(1);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Customer customer = new Customer ("id_1", seq1, "passwd1", "name_jeremyko");<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println("deleteCustomer");<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customerDAO.deleteCustomer("id_1");<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println("addCustomer");<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; customerDAO.addCustomer( customer); //고객 테이블에 insert<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch (HibernateException e)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e.printStackTrace();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; finally<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }</span></span><br /><span style="font-size: small;"><span style="font-family: Arial,helvetica,sans-serif;"><br /></span></span><br /><span style="font-size: small;"><span style="font-family: Arial,helvetica,sans-serif;"><br /></span></span>