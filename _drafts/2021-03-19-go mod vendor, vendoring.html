---
layout: post
title: go mod vendor, vendoring
date: '2021-03-19T15:16:00.000+09:00'
author: jeremyko
tags:
modified_time: '2021-03-19T15:16:23.681+09:00'
blogger_id: tag:blogger.com,1999:blog-7360229670252766698.post-8535061417855488281
---

<p>&nbsp;<br /><b>go mod vendor 명령</b><br /><br /><br />go mod vendor 명령은 기본 모듈의 패키지 빌드 및 테스트를 지원하는 데 필요한 모든 패키지의 복사본을 포함하는 기본 모듈의 루트 디렉터리에 vendor라는 디렉터리를 구성합니다. <br />메인 모듈 외부의 패키지 테스트로만 가져온 패키지는 포함되지 않습니다. <br />go mod tidy 및 기타 모듈 명령과 마찬가지로 vendor 디렉토리를 구성 할 때 무시를 제외한 빌드 제약 조건은 고려되지 않습니다.<br />벤더 링이 활성화되면 go 명령은 소스에서 모듈 캐시로 모듈을 다운로드하고 다운로드 한 복사본을 패키지를 사용하는 대신 vendor 디렉토리에서 패키지를로드합니다. <br /><br />go mod vendor는 vendor 패키지 목록과 해당 패키지가 복사 된 모듈 버전이 포함 된 vendor/modules.txt 파일도 만듭니다. <br />벤더 링이 활성화되면이 매니페스트는 go list -m 및 go version -m 에서 보고 된대로 모듈 버전 정보의 소스로 사용됩니다. <br />go 명령이 vendor/modules.txt를 읽으면 모듈 버전이 go.mod와 일치하는지 확인합니다. <br />vendor/modules.txt가 생성 된 후 go.mod가 변경된 경우 go mod vendor를 다시 실행해야합니다.<br /><br />go mod vendor는 재 구축하기 전에 vendor 디렉토리가있는 경우 이를 제거합니다. <br />vendor 패키지에 로컬 변경이 발생하면 안됩니다. <br />go 명령은 vendor 디렉토리의 패키지가 수정되지 않았는지 확인하지 않지만 <br />go mod vendor를 실행하고 변경 사항이 없는지 확인하여 vendor 디렉토리의 무결성을 확인할 수 있습니다.<br /><br />main module: The module in which the go command is invoked. The main module is defined by a go.mod file in the current directory or a parent directory. See Modules, packages, and versions.</p><p>&nbsp;</p><p><b>go vendoring 이란?</b><br /><br />모듈을 사용할 때 go 명령은 일반적으로 소스에서 모듈 캐시로 모듈을 다운로드 한 다음 다운로드 한  복사본에서 패키지를로드하여 종속성을 충족시킵니다. vendoring 는 이전 버전의 Go와의 상호 운용을 허용하거나 빌드에 사용되는 모든  파일이 단일 파일 트리에 저장되도록하는 데 사용될 수 있습니다. <br /><br />go mod vendor 명령은 기본 모듈에서  패키지를 빌드하고 테스트하는 데 필요한 모든 패키지의 복사본을 포함하는 기본 모듈의 루트 디렉터리에 vendor라는 디렉터리를  생성합니다. 메인 모듈 외부의 패키지 테스트로만 가져온 패키지는 포함되지 않습니다. go mod tidy 및 기타 모듈 명령과  마찬가지로 vendor 디렉토리를 구성 할 때 무시를 제외한 빌드 제약 조건은 고려되지 않습니다. <br /><br />go mod  vendor는 vendoring  패키지 목록과 해당 패키지가 복사 된 모듈 버전이 포함 된 vendor / modules.txt 파일도  만듭니다. 벤더링이 활성화되면 이 매니페스트는 go list -m 및 go version -m에서보고 된대로 모듈 버전 정보의  소스로 사용됩니다. go 명령이 vendor / modules.txt를 읽으면 모듈 버전이 go.mod와 일치하는지 확인합니다.  vendor / modules.txt가 생성 된 이후 go.mod가 변경된 경우 go 명령이 오류를보고합니다. go mod  vendor를 다시 실행하여 vendor  디렉토리를 업데이트해야합니다. <br /><br />vendor&nbsp; 디렉터리가 기본 모듈의 루트  디렉터리에있는 경우 기본 모듈의 go.mod 파일에있는 go 버전이 1.14 이상이면 자동으로 사용됩니다. 벤더 링을 명시 적으로  활성화하려면 -mod = vendor 플래그와 함께 go 명령을 호출합니다. 벤더 링을 비활성화하려면 -mod =  readonly 또는 -mod = mod 플래그를 사용하십시오. <br /><br />벤더 링이 활성화되면 네트워크 또는 로컬 모듈  캐시에 액세스하는 대신 벤더 디렉토리에서 go build 및 go test로드 패키지와 같은 빌드 명령을 사용합니다. go  list -m 명령은 go.mod에 나열된 모듈에 대한 정보 만 인쇄합니다. go mod download 및 go mod  tidy와 같은 go mod 명령은 벤더 링이 활성화 된 경우 다르게 작동하지 않으며 여전히 모듈을 다운로드하고 모듈 캐시에  액세스합니다. 벤더 링이 활성화 된 경우 go get도 다르게 작동하지 않습니다. <br /><br />GOPATH의 vendoring 과 달리 go 명령은 기본 모듈의 루트 디렉터리가 아닌 다른 위치에있는 vendor 디렉터리를 무시합니다.</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;<br /></p>